export default((e={integrity:!0},t=null,s=[],r=(()=>Object.create(null)),i=((e,t)=>{if(!e)return;const s=e.length||0;for(let r=0;r<s;++r)t(e[r],r)}),n=((...e)=>{const t=r();return i(e,e=>t[e]=!0)||t}),o=r(),l=document.head,a=r(),c=Symbol("meta"),h=new Set,d=Object.assign(r(),{$modules:r(),$router:r(),$validator:()=>{}}),u=r(),p=new Set,m=new Map,v=((e={controller:null,sensitive:!1,topology:null})=>(t=null)=>Object.assign(u,e,t))(),f=((e,t=1)=>{if($(t,1))return`_$$_dg_scope => { with (_$$_dg_scope) { return ${e}; } }`;{const s=new Array(t).fill().map((e,t)=>`_$$_dg_scope_${t}`);return`(${s.join(", ")}) => { ${s.map(e=>`with (${e})`).join(" ")} { return ${e}; } }`}}),y=((e,t=document.baseURI)=>{const s=x(e,'script[type="dagger/configs"]'),r=s.getAttribute("src");return s.hasAttribute("base")&&(t=new URL(s.getAttribute("base")||"",t).href),r?A(new URL(r,t),s.integrity).then(({content:e})=>({base:t,content:w(e)})):{base:t,content:w(s.textContent)}}),g=(e=>i(Reflect.ownKeys(e),t=>Reflect.deleteProperty(e,t))),b=(e=>new Function(`return ${e};`)()),$=((e,t)=>Object.is(e,t)),S=((e,t=Object)=>e instanceof t),C=(e=>$(typeof e,"string")),w=(e=>JSON.parse(e)),N=(e=>Reflect.ownKeys(e).filter(e=>!$(e,c))),E=(e=>`'${e}'`),T=(([e,...t],s={stop:!1})=>{if(!s.stop)return S(e,Promise)?e.then(e=>T([e,...t],s)):S(e,Function)?T([e(null,s),...t],s):t.length?T([t.shift()(e,s),...t],s):e}),x=((e,t,s=!1)=>e[s?"querySelectorAll":"querySelector"](t)),A=((t,s="")=>fetch(t,e.integrity&&s?{integrity:`sha256-${s}`}:{}).then(e=>{if(e.ok){const t=e.headers.get("content-type");return e.text().then(e=>({content:e,type:t}))}}).catch(()=>{})),k=(e=>{try{return JSON.parse(e.replace(/'/g,'"'))}catch(t){return e}}),R=(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content}),j=((e,t)=>i(e.children,e=>{$(e.tagName,"TEMPLATE")?(e.getAttribute("$html")&&e.setAttribute("dg_scoped_styles",t.join(",")),j(e.content,t)):S(e,HTMLElement)&&i(t,t=>e.setAttribute(t,""))})),M=((e,t=!0)=>{if(!C(e)){if(null==e||Number.isNaN(e))return"";if(S(e))return JSON.stringify(e);e=String(e)}return t?e.trim():e}),O=(e=>e&&Reflect.has(e[c]||{},"value")?e[c].value:e.value||e.textContent),L=((e=((e,t,s,{name:r})=>$(e)?t.removeAttribute(r):t.setAttribute(r,M(e))),t=((t=new Event("change"),s=((e,t,s,r,i,n,o,l,a,c,h,d,u)=>{let p=null;const m=i.get(s);if(m){if(p=m.shift(),m.length||i.delete(s),e>0){const t=r[e-1],s=p.landmark;if($(t.landmark.compareDocumentPosition(s),Node.DOCUMENT_POSITION_PRECEDING)){const e=p.upperBoundary,r=[e];let i=e;for(;!$(i,s);)i=i.nextSibling,r.push(i);const n=document.createDocumentFragment();n.append(...r),u.insertBefore(n,t.landmark.nextSibling)}}p.index=e,r[e]=p,p.resolvedSliceScope[l]=t,p.resolvedSliceScope[o]=e}else p=new U(h,d,c,e,{[l]:t,[a]:s,[o]:e});const v=n.get(s);v?v.push(p):n.set(s,[p])}),r=((e,t,s)=>{const r=O(e);return s?(t||[]).some(e=>$(e,r)):$(t,r)}),n=((e,t)=>{if(!t)return;const[s,r=""]=t.split(":").map(e=>e.trim());e[s]=r}),l=((e,t=2)=>String(e).padStart(t,"0")))=>({$boolean:(e,t,s,{name:r})=>e?t.setAttribute(r,""):t.removeAttribute(r),checked:(s,r,{parentNode:n},{decorators:o})=>{const{tagName:l,type:a}=r,c=$(l,"OPTION"),h=$(a,"radio");if(c||$(l,"INPUT")&&(h||$(a,"checkbox"))){let e=null;if(s=!!s,c){if($(s,r.selected))return;r.selected=s;const o=n;o&&(!o.multiple&&s&&(e=x(o,"option",!0)),o.$changeEvent||(o.$changeEvent=!0,o.addEventListener("change",e=>i(x(e.target,"option",!0),e=>e.dispatchEvent(t)))))}else r.checked=s,h&&s&&(e=x(o.scope?x(document,o.scope):n,`input[type="radio"][name="${r.name}"]`,!0));e&&i(e,e=>e.dispatchEvent(t))}else e(s,r,null,{name:"checked"})},class:(e,t,{profile:{classNames:s}})=>{if(e){const r=new Set(s);Array.isArray(e)?i(e,e=>r.add(M(e))):S(e)?i(Object.entries(e),([e,t])=>t&&r.add(e.trim())):r.add(M(e)),t.className=[...r].join(" ").trim()}else s?t.className=s.join(" "):t.removeAttribute("class")},each:(e,t,r,{decorators:n})=>{e=Object.entries(e||o);const{children:l,childrenMap:a=new Map,profile:c,parentNode:h}=r;if(!e.length)return a.clear()||r.removeChildren();let{item:d="item",key:u="key",index:p="index"}=n;$(d,!0)&&(d="item"),$(u,!0)&&(u="key"),$(p,!0)&&(p="index");const m=new Map,v=r.closures.slice;i(e,([e,t],i)=>s(i,e,t,l,a,m,p,u,d,r,c,v,h)),l.length=e.length,r.childrenMap=m,a.forEach(e=>i(e,e=>e.destructor())),a.clear()},exist:(e,t,s)=>e?t||s.create():s.destroy(),file:()=>{},focus:(e,t,s,{decorators:{prevent:r=!1}})=>e?t.focus({preventScroll:r}):t.blur(),html:(e,t,s)=>{if(e=M(e),s.removeChildren(),!e)return;const r=[],n=s.profile,o=R(e);if(!t){const e=n.node.getAttribute("dg_scoped_styles");e&&j(o,e.split(","))}if(Reflect.construct(_,[o,n.namespace,r,null,!0]),r.length){const e=s.scopes,t=e.length;i(r,(r,i)=>Promise.all(r.promises||[]).then(()=>new U(r,b(f(r.closures,t))(...e),s,i,null,e,(r.landmark||r.node).parentNode)))}t?t.appendChild(o):s.parentNode.insertBefore(o,s.landmark)},selected:(s,n)=>{const{type:o,tagName:l}=n,a=$(l,"SELECT");if(a||$(l,"INPUT")&&($(o,"checkbox")||$(o,"radio"))){const e=a?n.multiple:$(o,"checkbox");if(a){const o=x(n,"option",!0);i(o,t=>t.selected=r(t,s,e)),e||i(o,e=>e.dispatchEvent(t))}else n.checked=r(n,s,e)}else e(s,n,null,{name:"selected"})},style:(e,t,{profile:{inlineStyle:s,styles:r}})=>{if(e){const s={...r};Array.isArray(e)?i(e,e=>n(s,M(e))):S(e)?i(Object.entries(e),([e,t])=>s[e.trim()]=M(t)):i(M(e).split(";"),e=>n(s,e.trim())),t.style.cssText=Object.entries(s).filter(([e,t])=>t).map(([e,t])=>`${e}: ${t}; `).join("").trim()}else s?t.setAttribute("style",s):t.removeAttribute("style")},text:(e,t)=>{e=M(e),$(e,t.textContent)||(t.textContent=e)},value:(e,t,s,{decorators:r})=>{s.value=e;const{tagName:i,type:n}=t;if($(i,"INPUT")){const s=$(n,"date")||$(n,"datetime-local");if(S(e,Date))if(s||$(n,"week"))t.valueAsNumber=e;else if($(n,"month"))t.value=`${e.getUTCFullYear()}-${l(e.getUTCMonth()+1)}`;else if($(n,"time")){const s=t.step||0;let r=`${l(e.getUTCHours())}:${l(e.getUTCMinutes())}`;s%60&&(r=`${r}:${l(e.getUTCSeconds())}`,s%1&&(r=`${r}.${l(e.getUTCMilliseconds(),3)}`)),t.value=r}else t.value=e;else e=M(e,r.trim||!1),s?t.valueAsNumber=new Date(e):t.value=e}else t.value=M(e,r.trim||!1)}}))(),s=n("autocapitalize","autocomplete","contenteditable","controls","disabled","draggable","loop","multiple","muted","open","preload","readonly","required","reversed","spellcheck","translate","wrap"),r=n("checked","focus","selected"),l=class{constructor(i,{name:n,decorators:l=o,processor:a}){if(this.nodeContext=i,this.decorators=l,this.processor=a,this.topologySet=new Set,this.visitedTopologySet=new Set,n){this.name=n,r[n]&&(this.lazy=!0),this.updater=s[n]&&t.$boolean||t[n]||e;const o=i.node;$(n,"selected")&&o&&$(o.tagName,"SELECT")&&(this.observer=new MutationObserver(()=>this.trigger()),this.observer.observe(o,{childList:!0}))}}destructor(){this.topologySet.forEach(e=>e.unsubscribe(this)),this.topologySet.clear(),this.visitedTopologySet.clear(),this.observer&&this.observer.disconnect(),g(this)}trigger(e=!0){if(h.delete(this),e||this.topologySet&&[...this.topologySet].some(e=>!$(e[c].oldValue,e[c].value))){if(!this.processor)return;this.topologySet.clear(),this.visitedTopologySet.clear();const e={...u};v({controller:this,sensitive:this.decorators.sensitive||!1}),T([this.processor(),t=>v(e)&&this.update(t)])}return queueMicrotask(()=>this.topologySet&&this.topologySet.forEach(e=>Reflect.deleteProperty(e[c],"oldValue"))),this}update(e){if(!this.updater)return;const t=this.nodeContext,s=t.node;this.decorators.immutable&&$(e,this.data)||T([!(s||{}).isConnected&&this.lazy?queueMicrotask(()=>this.updater(e,s,t,this)):this.updater(e,s,t,this),()=>this.data=e])}})=>l)(),P=((t=new Map,s={json:"dagger/json",namespace:"dagger/configs",script:"dagger/script",style:"dagger/style",string:"dagger/string"},o=r(),a={html:"text/html",json:"application/json",script:["application/javascript","javascript/esm","text/javascript"],style:"text/css"},h=/^[$a-zA-Z-_]{1}[\w-$]*(\.[$a-zA-Z-_]{1}[\w-$]*)*$/,d=/'BASE\(([-\w@:%.\/+~#=$]+)\)'|"BASE\(([-\w@:%.\/+~#=$]+)\)"/g,u={json:"json",namespace:"namespace",script:"script",style:"style",string:"string",template:"template"},p=/^(http:\/\/|https:\/\/|\/|\.\/|\.\.\/)/i,m={resolved:"resolved",resolving:"resolving",unresolved:"unresolved"},v=((e=n(...Object.keys(u).map(e=>`@${e}`)),t=((e,t)=>((Array.isArray(e)||!S(e))&&(e={uri:e,candidates:e}),e.candidates&&(Array.isArray(e.candidates)||(e.candidates=[e.candidates])),Object.assign(e,(e.candidates||[]).find(e=>S(e)&&(!Reflect.has(e,"media")||matchMedia(e.media).matches)&&(!Reflect.has(e,"condition")||e.condition&&b(e.condition)))),e.type||(e.type=t),e.uri&&(Array.isArray(e.uri)||(e.uri=[e.uri])),e)))=>s=>i(Object.keys(s),r=>e[r]&&S(s[r])?i(Object.entries(s[r]),([e,i])=>{s[e]=t(i,r.substr(1))})||Reflect.deleteProperty(s,r):s[r]=t(s[r]))||s)(),f=((e,t,s)=>t.cssRules?i(t.cssRules,t=>f(e,t,s)):e.insertRule(`${t.selectorText.split(",").map(e=>(e=e.trim())&&`${g.test(e)?e.replace(g,`[${s}]$1`):`${e}[${s}]`}, [${s}] ${e}`).join(", ")}{${t.style.cssText}}`)),g=/([\s:+>~])/,C=((e,t="",s=!1)=>{const r=document.createElement("style");return e&&(r.textContent=e),l.appendChild(r),r.disabled=s,r.setAttribute("name",t),r}),N=class{constructor(t={},s="",r="",i=null){this.name=r,this.module={[c]:this},this.state=m.unresolved,i?(this.resolveParent(i),this.path=i.path?`${i.path}.${r}`:r,this.baseElement=i.baseElement):(this.path=r,this.baseElement=l);const{integrity:n,uri:o,type:a}=t;let h=u[a];Reflect.has(t,"content")?this.content=t.content:o&&(this.URIs=o,h||(h=!a)),a&&(this.type=a),e.integrity&&n&&(this.integrity=n),this.config=t,this.promise=new Promise(e=>this.resolver=e),this.base=new URL(t.base||s,(i||{}).base||document.baseURI).href,Reflect.has(t,"scoped")&&!t.scoped||(this.scoped=!0)}extract(e=null){if(!this.extracted)if($(this.type,u.style))this.parent.styleModules.push(this.module),this.extracted=!0;else if(!$(this.type,u.template)){const e=$(this.type,u.namespace);e?(this.styleModules||(this.styleModules=[]),this.extracted=Object.assign(r(),...this.children.map(e=>e.extract()))):this.extracted=!S(this.module)||Array.isArray(this.module)?this.module:Object.assign(r(),this.module),this.extracted=!e&&this.config.anonymous?this.extracted:Object.assign(r(),{[this.name]:this.extracted})}return this.parent?(this.styleModules||[]).length&&(this.parent.styleModules=[...this.parent.styleModules||[],...this.styleModules]):e&&i(this.styleModules,t=>e.add(t)),this.extracted}fetch(e){Array.isArray(e)||(e=e.split("."));const t=e.shift().trim(),s=(this.children||[]).find(e=>$(e.name,t));return e.length?s.resolve().then(t=>t.fetch(e)):s.resolve()}resolve(){if(!$(this.state,m.unresolved))return this.promise;this.resolveState(m.resolving);let e=[e=>this.resolveModule(e),e=>this.resolved(e)];if(Reflect.has(this,"content")){const t=this.content;e=[u.namespace,u.json].includes(this.type)?[$(this.type,u.namespace)?this.resolveNamespace(t):t,...e]:[this.resolveContent(t),...e]}else e=[...this.URIs.map(e=>(t,s)=>(s.stop=!!t)||this.resolveURI(e))];return T(e),this.promise}resolveContent(e){this.content=e.trim();const t=this.type;if($(t,u.namespace))return this.baseElement=R(e),T([y(this.baseElement,this.base),({base:e,content:t})=>this.resolveNamespace(t,e)]);if($(t,u.script)){const t=e.replace(d,(e,t)=>E(new URL(t,this.base)));return import(`data:text/javascript, ${encodeURIComponent(t)}`)}if($(t,u.template)){const t=R(e),s=[],r=this.config.style;return r&&s.push(Promise.all((Array.isArray(r)?r:[r]).map(e=>this.parent.fetch(e).then(e=>e.module.getAttribute("name")))).then(e=>j(t,e.filter(e=>e)))),s.push(()=>{t[c]=this;const e=new _(t,this.parent);return Promise.all(e.promises||[]).then(()=>e)}),T(s)}return $(t,u.style)?C(e,`dg_style_module_content-${this.path.replace(/\./g,"_")}`,!0):$(t,u.json)?w(e):$(t,u.string)?this.content:void 0}resolved(e){return this.module=e,this.resolveState(m.resolved),this.resolver(this),this}resolveEmbeddedType(e){if(this.type)return;const{tagName:t,type:r}=e,i=$(t,"SCRIPT");if($(t,"TEMPLATE"))this.type=u.template;else{if(i&&$(r,s.namespace))return this.type=u.namespace,this.resolveNamespace(w(e.innerHTML),e.getAttribute("base")||this.base);i&&$(r,s.script)?this.type=u.script:i&&$(r,s.json)?this.type=u.json:$(t,"STYLE")&&$(r,s.style)?this.type=u.style:this.type=u.string}}resolveModule(e){this.resolvedContent=e;let t=e;const s=this.type;if($(s,u.namespace))t=r(),this.children=e,i(e,e=>t[e.name]=e.module);else if($(s,u.style)){if(this.scoped){const e=`dg_style_module-${this.path.replace(/\./g,"_")}`,s=C("",e,!0),r=s.sheet;i(t.sheet.cssRules,t=>f(r,t,e)),t=s}}else $(s,u.template)||$(s,u.string)||!this.config.converter||(t=b(`$module => (${this.config.converter})`)(t));return t}resolveNamespace(e,t=this.base){this.parent&&v(e),this.children=Object.entries(e).map(([e,s])=>this.parent?new N(s,t,e,this):s.resolveParent(this));const s=this.config.customTags;return s&&(this.customTagSet=new Set(s)),Promise.all(this.children.map(e=>e.resolve()).filter((e,t)=>{const s=this.children[t].config.prefetch;return!s||new RegExp(s).test(location.hash)}))}resolveRemoteType(e,t,s){this.base=s,this.type||(a.script.some(e=>t.includes(e))?this.type=u.script:t.includes(a.style)?this.type=u.style:t.includes(a.html)?(e=e.trim(),this.type=e.startsWith("<html>")||e.startsWith("<!DOCTYPE ")?u.namespace:u.template):t.includes(a.json)?this.type=u.json:this.type=u.string)}resolveParent(e){const t=this.name;return e.module[t]=this.module,this.parent=e,this}resolveState(e){this.state=e}resolveURI(s=""){if(s=s.trim()){if(h.test(s))return this.parent.fetch(s,this).then(e=>(this.type||(this.type=e.type))&&(!$(this.type,u.namespace)||this.resolveModule(e.resolvedContent))&&this.resolved(e.module));{let r=null;if(p.test(s)){const t=o[this.integrity];if(t)r=[t.resolve(),()=>(this.type=t.type)&&t.resolvedContent];else{e.integrity&&this.integrity&&(o[this.integrity]=this);const t=new URL(s,this.base).href;r=[(e,s)=>T([A(t,this.integrity),e=>e||(s.stop=!0)]),({content:e,type:s})=>this.resolveRemoteType(e,s,t)||this.resolveContent(e)]}}else{const e=x(this.baseElement,s),i=t.get(e);i?r=[i.resolve(),e=>(this.type=e.type)&&e.resolvedContent]:(t.set(e,this),r=[this.resolveEmbeddedType(e)||this.resolveContent(e.innerHTML)])}return T([...r,e=>this.resolveModule(e),e=>this.resolved(e)])}}}})=>(C("[dg-cloak] { display: none !important; }","dg-global-style"),N.resolvedType=u,N.normalizeConfig=v,N))(),U=((e={checked:e=>$(e.tagName,"OPTION")?e.selected:e.checked,file:e=>(e.multiple?e.files:e.files[0])||null,selected:(e,{scope:t})=>{const{name:s,type:r,tagName:i}=e,n=$(i,"SELECT"),o=[...n?e.selectedOptions:x(t?x(document,t):document.body,`input[type="${r}"][name="${s}"]:checked`,!0)].map(e=>O(e));return(n?e.multiple:$(r,"checkbox"))?o:o[0]},value:({type:e,value:t,valueAsNumber:s},{number:r,trim:i},{detail:n})=>n?null:$(e,"date")||$(e,"datetime-local")?new Date(s||0):r?Number.parseFloat(t||0):i?t.trim():t},t={1:"Left",2:"Right",4:"Middle",8:"Back",16:"Forward"},r=((e,s,r)=>{const{current:i,modifier:n,prevent:o,stop:l,stopImmediate:a}=r;if(o&&e.preventDefault(),l&&e.stopPropagation(),a&&e.stopImmediatePropagation(),i&&!$(e.target,e.currentTarget)||n&&e.getModifierState&&(Array.isArray(n)?n:[n]).some(t=>!e.getModifierState(t)))return;const c=S(e,KeyboardEvent);if(c||S(e,MouseEvent)){const{code:s,key:i}=r;if(c&&s&&!(Array.isArray(s)?s:[s]).every(t=>new RegExp(t).test(e.code)))return;if(i){const s=c?e.key:t[e.buttons];if(s&&!(Array.isArray(i)?i:[i]).every(e=>new RegExp(e).test(s)))return}}const h={...u};v({sensitive:r.sensitive||!1}),s(e),v(h)}),n=class{constructor(e,t={},s=null,r=-1,i=null,n=(s?s.scopes:[d,a]),o=null){this.profile=e,this.scopes=n,s?(this.parent=s,this.parentNode=o||s.node||s.parentNode,s.children[r]=this):this.parentNode=e.node.parentNode||e.landmark.parentNode;const{node:l,plain:c,moduleScope:h,raw:u,text:p,unique:m}=e;if($(l.tagName,"HTML"))return this.closures=t,this.create();if(u)return this.resolveNode(m?l:l.cloneNode(!0));if(c)return h?this.resolveClosures(h,t):this.closures=t,this.resolveNode(m?l:l.cloneNode(!1),()=>this.resolveChildren());if(p)return this.closures=t,this.controller=new L(this,t),this.resolveNode(m?l:document.createTextNode(""),()=>this.controller.trigger());if(i)this.index=r,this.sliceScope=i,this.resolvedSliceScope=I.resolveScope(i),this.resolveClosures(this.resolvedSliceScope,t);else{h?this.resolveClosures(h,t):this.closures=t;const e=this.closures.each;if(e)return this.children=[],this.resolveLandmark(),this.controller=new L(this,e),this.controller.trigger(),this}this.baseClosures=this.closures;const v=this.closures.exist;v?(this.resolveLandmark(),this.existController=new L(this,v),this.existController.trigger()):this.create()}destructor(){const{plain:e,raw:t}=this.profile;t?this.node.remove():(this.destroy(),e||(this.landmark&&this.landmark.remove(),this.upperBoundary&&this.upperBoundary.remove(),this.existController&&this.existController.destructor())),g(this)}create(){let e=[()=>this.initialize()];const t=this.closures.loading;t&&(e=[t.processor(),e=>this.postLoad(e),...e]),T(e)}destroy(){const e=this.node,{unloading:t,unloaded:s}=this.closures.directives||{};this.sentry&&p.delete(this.sentry),Reflect.deleteProperty(this,"sentry"),t&&t.processor(e),this.removeChildren(),this.profile.plain||(this.controller&&(this.controller.destructor()||Reflect.deleteProperty(this,"controller")),this.childrenController&&(this.childrenController.destructor()||Reflect.deleteProperty(this,"childrenController")),i(this.controllers,e=>e.destructor())||Reflect.deleteProperty(this,"controllers"),i(this.eventHandlers,({target:e,parameters:t})=>e.removeEventListener(...t))||Reflect.deleteProperty(this,"eventHandlers")),e&&(this.landmark?e.replaceWith(this.landmark):e.remove()),delete this.node,s&&s.processor(e),this.baseClosures&&(this.closures=this.baseClosures)}initialize(){if(!this.profile)return;const{node:e,unique:t,virtual:r}=this.profile,{child:i,loaded:o,sentry:l}=this.closures.directives||{};l&&(this.sentry={...l},p.add(this.sentry)),$(e.tagName,"HTML")?(a=this.scopes[2]||I.resolveScope({}),s.map(e=>new n(e,b(f(e.closures,2))(d,a))),o&&o.processor()):(i&&(this.childrenController=new L(this,i)),this.resolveNode(!r&&(t?e:e.cloneNode(!1)),()=>this.resolveChildren()||this.resolveControllers()),o&&o.processor(this.node))}postLoad(e){let t=o;e&&($(e.constructor,Object)||!e.constructor&&$(typeof e,"object"))&&(t=e),this.closures&&this.resolveClosures(I.resolveScope(t),this.closures.postLoad||this.closures)}removeChildren(){if((this.children||[]).length&&(i(this.children,e=>e&&e.destructor()),this.children.length=0),this.node)this.node.innerHTML="";else if(this.upperBoundary){let e=this.upperBoundary.nextSibling;for(;e&&!$(e,this.landmark);){const t=e.nextSibling;e.remove(),e=t}}}resolveChildren(){const e=this.profile.children;!this.children&&(e||$((this.childrenController||{}).name,"html"))&&(this.children=[]),this.childrenController?this.childrenController.trigger():i(e,(e,t)=>new n(e,(this.closures.children||[])[t],this,t))}resolveClosures(e,t){this.closures=t(e),this.scopes=[...this.scopes,e]}resolveControllers(){const{controllers:e=[],eventHandlers:t=[]}=this.closures.directives||{};this.controllers=e.map(e=>new L(this,e).trigger()),this.eventHandlers=t.map(e=>this.resolveEventHandler(e))}resolveEventHandler({event:e,decorators:t={},processor:s,name:i,options:n=!!i}){const o=t.target||this.node,l=[e,i?e=>this.update(e,i,s,t):e=>r(e,s,t),n];return o.addEventListener(...l),{target:o,parameters:l}}resolveLandmark(){if(this.landmark)return;const{index:e,parent:t,parentNode:s,profile:r}=this;let i=null;i=$(e,0)?t.upperBoundary.nextSibling:s.contains(r.landmark||null)?r.landmark:t&&(t.node?null:t.landmark),this.landmark=s.insertBefore(document.createTextNode(""),i),(r.each||r.virtual)&&(this.upperBoundary=s.insertBefore(document.createTextNode(""),this.landmark))}resolveNode(e,t=null){this.resolveLandmark(),e?(this.node=e,e[c]=this,t&&t(),e.isConnected||this.parentNode.insertBefore(e,this.landmark),e.removeAttribute&&e.removeAttribute("dg-cloak")):t&&t()}update(t,s,r,i){const n={...u};v(),r(e[s](this.node,i,t)),v(n)}})=>v()&&n)(),_=((t={$:"controller","+":"event"},s=n("checked","file","selected","value"),l=n("loaded","sentry","unloading","unloaded"),a=n("STYLE","SCRIPT"),c=(e=>`{ ${e} }`),h=(e=>e.trim().replace(/-[a-z]/g,e=>e[1].toUpperCase()).replace(/-[A-Z]/g,e=>`-${e[1].toLowerCase()}`)),d=((e,t)=>{const[s,r=!0]=e.split(":").map(e=>decodeURIComponent(h(e)));return t[s]=k(r),`${s}: ${C(t[s])&&!$(s,"target")?`\`${r}\``:r}`}),u=((e,t=o,s="()")=>`{ processor: ${s} => { return ${e.trim()}; }, ${Object.entries(t).map(([e,t])=>`${e}: ${t}`).join(", ")} }`),p=class{constructor(t,s=null,n=null,o=null,l=!1){!o&&!n&&(this.root=!0),this.node=t,l&&(this.unique=l);const c=t.nodeType;if(this.promises=[],$(c,Node.TEXT_NODE)){const e=t.textContent.trim();if(!e)return;e.includes("${")&&e.includes("}")?(this.text=!0,n&&(this.root=!0)&&n.push(this)&&(n=null),this.closures=u(`\`${e}\``,{name:E("text")}),this.resolveLandmark(t)):this.raw=!0}else if($(c,Node.ELEMENT_NODE)){const e="dg-cloak",{attributes:o,nodeName:l}=t,c="@raw",d=o[c];if(d||a[l])this.raw=!0,n&&t.removeAttribute(e),d&&t.removeAttribute(c);else{this.directives={controllers:[],eventHandlers:[]};const a=new Set,c=h(l.toLowerCase()),d=!(s&&s.customTagSet&&s.customTagSet.has(c))&&(S(t,HTMLUnknownElement)||/[A-Z-]/g.test(c));if((d||$(t.tagName,"TEMPLATE"))&&(this.virtual=!0),i([...o],({name:e,value:r})=>this.resolveDirective(t,s,e,r,a)),this.virtual)this.resolveLandmark(t);else if(a.has("style")){const e=t.style,s=[...e];s.length&&(this.inlineStyle=t.getAttribute("style"),this.styles=r(),i(s,t=>{const s=e[t],r=e.getPropertyPriority(t);this.styles[t]=r?`${s} !${r}`:s}))}this.landmark||this.loading||!$(Object.keys(this.directives).length,2)||this.directives.controllers.length||this.directives.eventHandlers.length?n&&(this.root=!0)&&n.push(this)&&(n=null):(this.plain=!0,n&&t.hasAttribute(e)&&(i(t.children,t=>t.setAttribute(e,""))||t.removeAttribute(e))),d?this.promises.push(s.fetch(c).then(e=>this.resolveTemplate(e))):this.directives.child||$(t.tagName,"HTML")||this.resolveChildren(t,s,n)}}else if($(c,Node.DOCUMENT_FRAGMENT_NODE))this.resolveChildren(t,s,n);else if($(c,Node.COMMENT_NODE)){if(!e.commentNode)return this.resolveLandmark(t);this.raw=!0}if(o&&o.children.push(this),this.promises.length){const e=Promise.all(this.promises).then(()=>(this.root&&this.resolveClosures(),""));o&&o.promises.push(e)}else this.root&&this.resolveClosures(),delete this.promises}resolveChildren(e,t,s){const r=this.virtual?e.content.childNodes:e.childNodes;return r.length&&(this.children=[],i(r,e=>new p(e,t,s,this,!!this.unique)),this.plain&&this.children.every(e=>e.raw)&&(this.raw=!0)&&Reflect.deleteProperty(this,"plain")),this}resolveClosures(e=null){if(!this.closures){let t="";if(!this.raw){const s=", ",r=this.plain?"":Object.entries(this.directives||{}).map(([e,t])=>`${e}: ${Array.isArray(t)?`[${t.join(s)}]`:t}`).join(s);if(t=`${r?`directives: ${c(r)}, `:""}${this.children?`children: [${this.children.map(e=>e.resolveClosures(this.innerModuleScope)).join(s)}]`:""}`,this.loading){const e=t?f(c(t)):"";t=`loading: ${this.loading}, ${e&&`postLoad: ${e}`}`}this.exist&&(t=`exist: ${this.exist}, ${t}`),this.each&&(t=`each: ${this.each}, ${t?`slice: ${f(c(t))}`:""}`),t?(t=c(t),e&&(t=f(t))&&(this.moduleScope=e)):(this.raw=!0)&&Reflect.deleteProperty(this,"plain"),this.root&&(this.closures=t)}return t}return this.closures}resolveDirective(e,i,n,o,a){const h=t[n[0]];if(!h)return;this.virtual||e.removeAttribute(n);const p=r(),[m,...v]=n.substr(1).split("#"),f=r(),y=v.filter(e=>e).map(e=>d(e,f)).join(", ");if(y&&(p.decorators=c(y)),$(h,"event")){p.event=E(m);const{capture:e,once:t,passive:s}=f;(e||t||s)&&(p.options=`{ capture: ${e||!1}, once: ${t||!1}, passive: ${s||!1} }`),this.directives.eventHandlers.push(u(o,p,C(f.event)?f.event:"$event"))}else if($(m,"loading"))this.loading=u(o,p);else if(l[m]){const e=$(m,"sentry"),t=e?"next":"node",s=e?"$nextRouter":"$node";this.directives[m]=u(o,p,C(f[t])?f[t]:s)}else{$(m,"watch")||(p.name=E(m));const t=u(o,p);if($(m,"each"))this.each=t,this.resolveLandmark(e),delete this.unique;else if($(m,"exist"))this.exist=t,this.resolveLandmark(e);else if($(m,"html")||$(m,"text"))this.namespace=i,this.directives.child=t;else if(this.directives.controllers.push(t),$(m,"class"))e.classList.length&&(this.classNames=[...e.classList].map(e=>e.trim()));else if(s[m]){const{tagName:t,type:s}=e,r=$(m,"checked"),i=$(m,"value"),n=$(m,"selected"),l=$(s,"checkbox")||$(s,"radio"),a=$(s,"file");($(t,"INPUT")&&(a&&$(m,"file")||l&&(r||n)||!l&&!a&&i)||$(t,"OPTION")&&r||$(t,"SELECT")&&n||$(t,"TEXTAREA")&&i)&&(p.event=E(f.input?"input":"change"),this.directives.eventHandlers.push(u(`(() => { try { Object.is(${o}, $$_dg_data) || (${o} = $$_dg_data); } catch (error) {} })()`,p,"$$_dg_data")))}else a.add(m)}}resolveLandmark(e){this.landmark||(this.landmark=document.createTextNode(""),this.promises.push(Promise.resolve().then(()=>e.replaceWith(this.landmark))))}resolveTemplate(e){const t=e.module;let s=m.get(t);if(!s){s=r();const n=S(t,p),o=n?t:(t||{}).template;s.namespace=n?e.parent:e,s.children=o.children,i(s.children,e=>e.namespace&&(e.namespace=s.namespace)),m.set(t,s),n||m.set(o,s)}return Object.assign(this,s),this.namespace.resolve().then(e=>this.innerModuleScope=e.extract()[this.namespace.name]),""}updateNamespace(e){this.namespace&&(this.namespace=e),i(this.children,t=>t.updateNamespace(e))}})=>p)(),I=((e={bubble:"bubble",self:"self",mutation:"mutation"},t=!1,s=!1,n=new Set([Array,Object]),l={get:(e,s)=>{const r=u.controller,i=Reflect.get(e,s),n=Reflect.getPrototypeOf(e);if(t||!r||a.has(s)||n&&Reflect.has(n,s)||S(i,Function))return i;const o=e[c];if(n)if(o.has(u.topology)){const e=u.topology.fetch(s);S(e,f)&&e.subscribe()}else o.forEach(e=>e.fetch(s).subscribe());else o[s].subscribe();return i},set:(e,t,r)=>{if(s||a.has(t))return Reflect.set(e,t,r);const i=u.topology,n=e[c];return S(n,Set)&&n.has(i)&&i.unsubscribe(),$(Reflect.get(e,t),r)||(r=m(r,e[c],t),Reflect.set(e,t,r),v(n,t,r)),!0},deleteProperty:(e,t)=>{const s=Reflect.has(e,t);return!!Reflect.deleteProperty(e,t)&&(s&&v(e[c],t),!0)}},a=new Set([c,Symbol.asyncIterator,Symbol.hasInstance,Symbol.isConcatSpreadable,Symbol.iterator,Symbol.match,Symbol.matchAll,Symbol.replace,Symbol.search,Symbol.species,Symbol.split,Symbol.toPrimitive,Symbol.toStringTag,Symbol.unscopables]),d=((e,t)=>{u.sensitive?e.trigger(t):h.has(e)||(h.add(e),queueMicrotask(()=>e.trigger(t)))}),p=((e=null,t="")=>e?e.fetch(t):new f),m=((e,t=null,o="")=>{const a=S(t,Set)||Array.isArray(t)?[...t].map(e=>p(e,o)):[p(t,o)];if(!S(e)||S(e,HTMLElement))s&&i(a,t=>t[c].value=e);else if(e[c])i(a,t=>e[c].add(t));else{const o=e.constructor;if(n.has(o)){const n=new Proxy(t?new o:r(),l);if(t)n[c]=new Set(a),s&&i(a,e=>e[c].value=n);else{const e=a[0];n[c]=e,e[c].value=n}return i(N(e),t=>n[t]=m(e[t],a,t)),t||Object.seal(n),n}e[c]=new Set(a)}return e}),v=((t,s,r)=>{if(S(t,Set))return t.forEach(e=>v(e,s,r));s&&(t=t.fetch(s)),t.update(r,e.self)}),f=class{constructor(e=null,t=""){if(e){e[t]=this;const s=e[c].path;this[c]={parent:e,path:s?`${s}.${t}`:t}}else this[c]={path:t}}destructor(){i(Object.keys(this),e=>this[e].destructor());const e=this[c];delete e.parent,e.controllerSet&&(e.controllerSet.clear(),delete e.controllerSet),g(this)}dispatch(t=e.bubble){const{controllerSet:s,parent:r}=this[c];if(s){const r=$(t,e.bubble);s.forEach(e=>d(e,r))}!$(t,e.mutation)&&r&&r[c].parent&&r.dispatch()}fetch(e){return this[e]||new f(this,e)}subscribe(){u.topology=this;const e=u.controller,{topologySet:t,visitedTopologySet:s}=e;if(s.has(this))return;const r=this[c],{controllerSet:i,parent:n}=r;n&&n[c].parent&&n.unsubscribe(e),t.add(this),s.add(this),i?i.add(e):r.controllerSet=new Set([e])}unsubscribe(e=u.controller){e.topologySet.delete(this);const t=this[c].controllerSet;t&&t.delete(e)}update(t,s=e.mutation){const r=this[c],n=r.value;$(n,t)||((!Reflect.has(r,"oldValue")||u.sensitive)&&(r.oldValue=n),r.value=t,S(n)&&!S(n,HTMLElement)&&n[c]&&n[c].delete(this)&&i(N(n),e=>this[e]&&this[e].update((t||o)[e])),S(t)&&!S(t,HTMLElement)&&t[c]&&t[c].add(this)&&i(N(t),e=>p(this,e).update((t||o)[e])),this.dispatch(s))}})=>{f.resolveScope=(e=>{s=!0;const t=m(e);return s=!1,t});const y=JSON.stringify;return JSON.stringify=((...e)=>{t=!0;const s=y(...e);return t=!1,s}),f})(),H=((t="",o=null,l=[],h=null,u=null,v=!1,y=null,g=null,C=null,w=null,E=null,A={aliases:{},default:"",hashPrefix:"#",overrideRelativeLinks:!0,redirects:{},scenarios:{}},R=((e=n("A","AREA"))=>t=>{const s=t.target;if(!e[s.tagName]||!s.hasAttribute("href"))return;const r=s.getAttribute("href").trim(),i=A.hashPrefix;r&&![i,".","/"].some(e=>r.startsWith(e))&&!$(r,new URL(r,document.baseURI).href)&&(s.href=`${i}${r}`)})(),j=((e=((e=n("$modules","$router","$validator"),r=((t,r)=>{i(Object.keys(d).filter(t=>!e[t]),e=>Reflect.deleteProperty(d,e));const n=new Set,o=t.extract(n)[t.name];if(Object.assign(d,o),d.$modules=o,h?i(N(d.$router),e=>d.$router[e]=r[e]):d.$router=r,i(l,e=>n.has(e)||(e.disabled=!0)),l=[...n],i(l,e=>e.disabled=!1),h){i(s,e=>e.updateNamespace(t));const e=(h.closures.directives||{}).loaded;e&&e.processor()}else h=new U(u,b(f(u.closures,2))(d,a))}))=>()=>{m.clear();const e=Object.assign({},...w.map(e=>e.modules));i(Object.keys(e),t=>S(e[t],P)||(e[t]=C.find(e=>e.resolveModule(t)).modules[t]));const n=new P({content:e,customTags:o,type:P.resolvedType.namespace},t),l=n.resolve().then(()=>r(n,I.resolveScope(y)));if(h){const{unloading:e,unloaded:t}=h.closures.directives||{};e&&e.processor(),t&&t.processor()}else i(g,e=>Reflect.construct(_,[e,n,s,null,!0]));return l})(),r=((e=((e,t)=>{e.findIndex(e=>e)<0||(t.stop=!0,v=!0,location.hash=`${d.$router.hashPrefix}${d.$router.path}`)}))=>t=>Promise.all([...p].map(e=>e.processor(y))).then(s=>e(s,t)))())=>(t=location.hash.replace(A.hashPrefix,""))=>{if(v)return void(v=!1);t.startsWith("/")||(t=`/${t}`);const{aliases:s,hashPrefix:n,redirects:o}=A,[l="",a=""]=t.split("?"),c=s[l]||o[l];if(c)return t=a?`${c}?${a}`:c,s[l]||history.replaceState({path:t},t,`${n}${t}`),j(t);const d={},u=l.split("/");if(C=[],!E.match(C,d,u))return j(A.default);w=C.slice().reverse(),i(w,e=>e.initialize());const p={};a&&i([...new URLSearchParams(a)],([e,t])=>p[e]=k(t));const m=Object.assign({},...w.map(e=>e.variables),p,...w.map(e=>e.constants));y=Object.freeze({hash:t,hashPrefix:n,path:l,paths:u,query:a,queries:p,scenarios:d,schemes:m,identity:Symbol("identity")});const f={};T([h&&r(f),()=>e()],f)})(),M=((e={detail:!0},t=new CustomEvent("change",e),s=new CustomEvent("input",e))=>e=>$(e.target.tagName,"FORM")&&i(document.querySelectorAll("input, textarea"),e=>{e.dispatchEvent(s),e.dispatchEvent(t)}))(),O=class{constructor({children:e,path:t="",constants:s={},variables:r={},modules:n=null,tailable:o=!e},l=null){this.constants=s,this.variables=r,this.modules=n,this.tailable=o,this.scenarios=S(t)?Object.entries(t).map(([e,t])=>({scenario:e,regExp:new RegExp(t||"^$")})):[{scenario:t,regExp:new RegExp(`^${t}$`||"^$")}],l&&(this.parent=l,l.children.push(this)),e&&(this.children=[],i(e,e=>new O(e,this)))}initialize(){this.initialized||(this.initialized=!0,this.modules&&(this.modules=P.normalizeConfig(this.modules)))}match(e,t,s,r=s.length,i=0){const n=this.scenarios.length;if(r>=n&&this.scenarios.every(({scenario:e,regExp:r},n)=>{const o=s[i+n];if(r.test(o))return t[e]=o,!0})&&($(r,i+=n)&&this.tailable||(this.children||[]).find(n=>n.match(e,t,s,r,i))))return e.push(this),!0}resolveModule(e,t){if(this.modules){const s=this.modules[e];return this.modules[e]=s&&(S(s,P)?s:new P(s,t,e)),this.modules[e]}}},L=((s={})=>{const{options:r={},rootSelectors:i=["title","body"],routing:n={}}=s;Object.assign(e,r),Object.assign(A,n);const{overrideRelativeLinks:l,scenarios:a}=A;l&&document.body.addEventListener("click",R,!0),document.body.addEventListener("reset",M),g=[...new Set(i.map(e=>[...x(document,e,!0)]).flat())],u=new _(document.querySelector("html")),({base:t,customTags:o}=s),E=new O(a),window.addEventListener("hashchange",()=>j()),j()}),H="1.0.0 - RC")=>{const D=((e=((e,t)=>{const s=e[t],r=function(...e){const t=s.bind(this)(...e);return this[c]&&this[c].forEach(e=>e.dispatch()),t};Reflect.defineProperty(r,"name",{configurable:!0,value:t}),Reflect.defineProperty(e,t,{get:()=>r})}))=>(t,s)=>{const r=t.prototype;i(s,t=>e(r,t))})(),q=["set","delete"],z=["add","delete"];return D(Date,["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"])||D(Map,q)||D(Set,z)||D(WeakMap,q)||D(WeakSet,z),window.$dagger=Object.freeze(Object.assign(r(),{register:D,runtime:L,version:H})),L})())=>l.querySelector('script[type="dagger/configs"]')?document.addEventListener("DOMContentLoaded",()=>T([y(l),({base:e,content:t})=>H(Object.assign({base:e},t))])):H)();