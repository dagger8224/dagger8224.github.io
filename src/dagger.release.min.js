export default((e={integrity:!0},t=[],s=(()=>Object.create(null)),i=((e,t)=>{if(!e)return;const s=e.length||0;for(let i=0;i<s;++i)t(e[i],i)}),r=((...e)=>{const t=s();return i(e,e=>t[e]=!0)||t}),n=s(),o=document.head,l=s(),a=Symbol("meta"),c=new Set,h=Object.assign(s(),{$modules:s(),$router:s(),$validator:()=>{}}),d=s(),u=new Set,p=new Map,m=((e={controller:null,sensitive:!1,topology:null})=>(t=null)=>Object.assign(d,e,t))(),v=((e,t=1)=>{if(b(t,1))return`_$$_dg_scope => { with (_$$_dg_scope) { return ${e}; } }`;{const s=new Array(t).fill().map((e,t)=>`_$$_dg_scope_${t}`);return`(${s.join(", ")}) => { ${s.map(e=>`with (${e})`).join(" ")} { return ${e}; } }`}}),f=((e,t=document.baseURI)=>{const s=T(e,'script[type="dagger/configs"]'),i=s.getAttribute("src");return s.hasAttribute("base")&&(t=new URL(s.getAttribute("base")||"",t).href),i?x(new URL(i,t),s.integrity).then(({content:e})=>({base:t,content:C(e)})):{base:t,content:C(s.textContent)}}),y=(e=>i(Reflect.ownKeys(e),t=>Reflect.deleteProperty(e,t))),g=(e=>new Function(`return ${e};`)()),b=((e,t)=>Object.is(e,t)),$=((e,t=Object)=>e instanceof t),S=(e=>b(typeof e,"string")),C=(e=>JSON.parse(e)),w=(e=>Reflect.ownKeys(e).filter(e=>!b(e,a))),N=(e=>`'${e}'`),E=(([e,...t],s={stop:!1})=>{if(!s.stop)return $(e,Promise)?e.then(e=>E([e,...t],s)):$(e,Function)?E([e(null,s),...t],s):t.length?E([t.shift()(e,s),...t],s):e}),T=((e,t,s=!1)=>e[s?"querySelectorAll":"querySelector"](t)),x=((t,s="")=>fetch(t,e.integrity&&s?{integrity:`sha256-${s}`}:{}).then(e=>{if(e.ok){const t=e.headers.get("content-type");return e.text().then(e=>({content:e,type:t}))}}).catch(()=>{})),A=(e=>{try{return JSON.parse(e.replace(/'/g,'"'))}catch(t){return e}}),k=(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content}),R=((e,t)=>i(e.children,e=>{b(e.tagName,"TEMPLATE")?(e.getAttribute("$html")&&e.setAttribute("dg_scoped_styles",t.join(",")),R(e.content,t)):$(e,HTMLElement)&&i(t,t=>e.setAttribute(t,""))})),j=((e,t=!0)=>{if(!S(e)){if(null==e||Number.isNaN(e))return"";if($(e))return JSON.stringify(e);e=String(e)}return t?e.trim():e}),M=(e=>e&&Reflect.has(e[a]||{},"value")?e[a].value:e.value||e.textContent),O=((e=((e,t,s,{name:i})=>b(e)?t.removeAttribute(i):t.setAttribute(i,j(e))),t=((t=new Event("change"),s=((e,t,s,i,r,n,o,l,a,c,h,d,u)=>{let p=null;const m=r.get(s);if(m){if(p=m.shift(),m.length||r.delete(s),e>0){const t=i[e-1],s=p.landmark;if(b(t.landmark.compareDocumentPosition(s),Node.DOCUMENT_POSITION_PRECEDING)){const e=p.upperBoundary,i=[e];let r=e;for(;!b(r,s);)r=r.nextSibling,i.push(r);const n=document.createDocumentFragment();n.append(...i),u.insertBefore(n,t.landmark.nextSibling)}}p.index=e,i[e]=p,p.resolvedSliceScope[l]=t,p.resolvedSliceScope[o]=e}else p=new P(h,d,c,e,{[l]:t,[a]:s,[o]:e});const v=n.get(s);v?v.push(p):n.set(s,[p])}),r=((e,t,s)=>{const i=M(e);return s?(t||[]).some(e=>b(e,i)):b(t,i)}),o=((e,t)=>{if(!t)return;const[s,i=""]=t.split(":").map(e=>e.trim());e[s]=i}),l=((e,t=2)=>String(e).padStart(t,"0")))=>({$boolean:(e,t,s,{name:i})=>e?t.setAttribute(i,""):t.removeAttribute(i),checked:(s,r,{parentNode:n},{decorators:o})=>{const{tagName:l,type:a}=r,c=b(l,"OPTION"),h=b(a,"radio");if(c||b(l,"INPUT")&&(h||b(a,"checkbox"))){let e=null;if(s=!!s,c){if(b(s,r.selected))return;r.selected=s;const o=n;o&&(!o.multiple&&s&&(e=T(o,"option",!0)),o.$changeEvent||(o.$changeEvent=!0,o.addEventListener("change",e=>i(T(e.target,"option",!0),e=>e.dispatchEvent(t)))))}else r.checked=s,h&&s&&(e=T(o.scope?T(document,o.scope):n,`input[type="radio"][name="${r.name}"]`,!0));e&&i(e,e=>e.dispatchEvent(t))}else e(s,r,null,{name:"checked"})},class:(e,t,{profile:{classNames:s}})=>{if(e){const r=new Set(s);Array.isArray(e)?i(e,e=>r.add(j(e))):$(e)?i(Object.entries(e),([e,t])=>t&&r.add(e.trim())):r.add(j(e)),t.className=[...r].join(" ").trim()}else s?t.className=s.join(" "):t.removeAttribute("class")},each:(e,t,r,{decorators:o})=>{e=Object.entries(e||n);const{children:l,childrenMap:a=new Map,profile:c,parentNode:h}=r;if(!e.length)return a.clear()||r.removeChildren();let{item:d="item",key:u="key",index:p="index"}=o;b(d,!0)&&(d="item"),b(u,!0)&&(u="key"),b(p,!0)&&(p="index");const m=new Map,v=r.closures.slice;i(e,([e,t],i)=>s(i,e,t,l,a,m,p,u,d,r,c,v,h)),l.length=e.length,r.childrenMap=m,a.forEach(e=>i(e,e=>e.destructor())),a.clear()},exist:(e,t,s)=>e?t||s.create():s.destroy(),file:()=>{},focus:(e,t,s,{decorators:{prevent:i=!1}})=>e?t.focus({preventScroll:i}):t.blur(),html:(e,t,s)=>{if(e=j(e),s.removeChildren(),!e)return;const r=[],n=s.profile,o=k(e);if(!t){const e=n.node.getAttribute("dg_scoped_styles");e&&R(o,e.split(","))}if(Reflect.construct(U,[o,n.namespace,r,null,!0]),r.length){const e=s.scopes,t=e.length;i(r,(i,r)=>Promise.all(i.promises||[]).then(()=>new P(i,g(v(i.closures,t))(...e),s,r,null,e,(i.landmark||i.node).parentNode)))}t?t.appendChild(o):s.parentNode.insertBefore(o,s.landmark)},selected:(s,n)=>{const{type:o,tagName:l}=n,a=b(l,"SELECT");if(a||b(l,"INPUT")&&(b(o,"checkbox")||b(o,"radio"))){const e=a?n.multiple:b(o,"checkbox");if(a){const o=T(n,"option",!0);i(o,t=>t.selected=r(t,s,e)),e||i(o,e=>e.dispatchEvent(t))}else n.checked=r(n,s,e)}else e(s,n,null,{name:"selected"})},style:(e,t,{profile:{inlineStyle:s,styles:r}})=>{if(e){const s={...r};Array.isArray(e)?i(e,e=>o(s,j(e))):$(e)?i(Object.entries(e),([e,t])=>s[e.trim()]=j(t)):i(j(e).split(";"),e=>o(s,e.trim())),t.style.cssText=Object.entries(s).filter(([e,t])=>t).map(([e,t])=>`${e}: ${t}; `).join("").trim()}else s?t.setAttribute("style",s):t.removeAttribute("style")},text:(e,t)=>{e=j(e),b(e,t.textContent)||(t.textContent=e)},value:(e,t,s,{decorators:i})=>{s.value=e;const{tagName:r,type:n}=t;if(b(r,"INPUT")){const s=b(n,"date")||b(n,"datetime-local");if($(e,Date))if(s||b(n,"week"))t.valueAsNumber=e;else if(b(n,"month"))t.value=`${e.getUTCFullYear()}-${l(e.getUTCMonth()+1)}`;else if(b(n,"time")){const s=t.step||0;let i=`${l(e.getUTCHours())}:${l(e.getUTCMinutes())}`;s%60&&(i=`${i}:${l(e.getUTCSeconds())}`,s%1&&(i=`${i}.${l(e.getUTCMilliseconds(),3)}`)),t.value=i}else t.value=e;else e=j(e,i.trim||!1),s?t.valueAsNumber=new Date(e):t.value=e}else t.value=j(e,i.trim||!1)}}))(),s=r("checked","focus","selected"),o=class{constructor(i,{name:r,decorators:o=n,processor:l}){if(this.nodeContext=i,this.decorators=o,this.processor=l,this.topologySet=new Set,this.visitedTopologySet=new Set,r){this.name=r,s[r]&&(this.lazy=!0);const n=i.node;this.updater=t[r]||n&&b(typeof n[r],"boolean")&&t.$boolean||e,b(r,"selected")&&n&&b(n.tagName,"SELECT")&&(this.observer=new MutationObserver(()=>this.trigger()),this.observer.observe(n,{childList:!0}))}}destructor(){this.topologySet.forEach(e=>e.unsubscribe(this)),this.topologySet.clear(),this.visitedTopologySet.clear(),this.observer&&this.observer.disconnect(),y(this)}trigger(e=!0){if(c.delete(this),e||this.topologySet&&[...this.topologySet].some(e=>!b(e[a].oldValue,e[a].value))){if(!this.processor)return;this.topologySet.clear(),this.visitedTopologySet.clear();const e={...d};m({controller:this,sensitive:this.decorators.sensitive||!1}),E([this.processor(),t=>m(e)&&this.update(t)])}return queueMicrotask(()=>this.topologySet&&this.topologySet.forEach(e=>Reflect.deleteProperty(e[a],"oldValue"))),this}update(e){if(!this.updater)return;const t=this.nodeContext,s=t.node;this.decorators.immutable&&b(e,this.data)||E([!(s||{}).isConnected&&this.lazy?queueMicrotask(()=>this.updater(e,s,t,this)):this.updater(e,s,t,this),()=>this.data=e])}})=>o)(),L=((t=new Map,n={json:"dagger/json",namespace:"dagger/configs",script:"dagger/script",style:"dagger/style",string:"dagger/string"},l=s(),c={html:"text/html",json:"application/json",script:["application/javascript","javascript/esm","text/javascript"],style:"text/css"},h=/^[$a-zA-Z-_]{1}[\w-$]*(\.[$a-zA-Z-_]{1}[\w-$]*)*$/,d=/'BASE\(([-\w@:%.\/+~#=$]+)\)'|"BASE\(([-\w@:%.\/+~#=$]+)\)"/g,u={json:"json",namespace:"namespace",script:"script",style:"style",string:"string",template:"template"},p=/^(http:\/\/|https:\/\/|\/|\.\/|\.\.\/)/i,m={resolved:"resolved",resolving:"resolving",unresolved:"unresolved"},v=((e=r(...Object.keys(u).map(e=>`@${e}`)),t=((e,t)=>((Array.isArray(e)||!$(e))&&(e={uri:e,candidates:e}),e.candidates&&(Array.isArray(e.candidates)||(e.candidates=[e.candidates])),Object.assign(e,(e.candidates||[]).find(e=>$(e)&&(!Reflect.has(e,"media")||matchMedia(e.media).matches)&&(!Reflect.has(e,"condition")||e.condition&&g(e.condition)))),e.type||(e.type=t),e.uri&&(Array.isArray(e.uri)||(e.uri=[e.uri])),e)))=>s=>i(Object.keys(s),r=>e[r]&&$(s[r])?i(Object.entries(s[r]),([e,i])=>{s[e]=t(i,r.substr(1))})||Reflect.deleteProperty(s,r):s[r]=t(s[r]))||s)(),y=((e,t,s)=>t.cssRules?i(t.cssRules,t=>y(e,t,s)):e.insertRule(`${t.selectorText.split(",").map(e=>(e=e.trim())&&`${S.test(e)?e.replace(S,`[${s}]$1`):`${e}[${s}]`}, [${s}] ${e}`).join(", ")}{${t.style.cssText}}`)),S=/([\s:+>~])/,w=((e,t="",s=!1)=>{const i=document.createElement("style");return e&&(i.textContent=e),o.appendChild(i),i.disabled=s,i.setAttribute("name",t),i}),A=class{constructor(t={},s="",i="",r=null){this.name=i,this.module={[a]:this},this.state=m.unresolved,r?(this.resolveParent(r),this.path=r.path?`${r.path}.${i}`:i,this.baseElement=r.baseElement):(this.path=i,this.baseElement=o);const{integrity:n,uri:l,type:c}=t;let h=u[c];Reflect.has(t,"content")?this.content=t.content:l&&(this.URIs=l,h||(h=!c)),c&&(this.type=c),e.integrity&&n&&(this.integrity=n),this.config=t,this.promise=new Promise(e=>this.resolver=e),this.base=new URL(t.base||s,(r||{}).base||document.baseURI).href,Reflect.has(t,"scoped")&&!t.scoped||(this.scoped=!0)}extract(e=null){if(!this.extracted)if(b(this.type,u.style))this.parent.styleModules.push(this.module),this.extracted=!0;else if(!b(this.type,u.template)){const e=b(this.type,u.namespace);e?(this.styleModules||(this.styleModules=[]),this.extracted=Object.assign(s(),...this.children.map(e=>e.extract()))):this.extracted=!$(this.module)||Array.isArray(this.module)?this.module:Object.assign(s(),this.module),this.extracted=!e&&this.config.anonymous?this.extracted:Object.assign(s(),{[this.name]:this.extracted})}return this.parent?(this.styleModules||[]).length&&(this.parent.styleModules=[...this.parent.styleModules||[],...this.styleModules]):e&&i(this.styleModules,t=>e.add(t)),this.extracted}fetch(e){Array.isArray(e)||(e=e.split("."));const t=e.shift().trim(),s=(this.children||[]).find(e=>b(e.name,t));return e.length?s.resolve().then(t=>t.fetch(e)):s.resolve()}resolve(){if(!b(this.state,m.unresolved))return this.promise;this.resolveState(m.resolving);let e=[e=>this.resolveModule(e),e=>this.resolved(e)];if(Reflect.has(this,"content")){const t=this.content;e=[u.namespace,u.json].includes(this.type)?[b(this.type,u.namespace)?this.resolveNamespace(t):t,...e]:[this.resolveContent(t),...e]}else e=[...this.URIs.map(e=>(t,s)=>(s.stop=!!t)||this.resolveURI(e))];return E(e),this.promise}resolveContent(e){this.content=e.trim();const t=this.type;if(b(t,u.namespace))return this.baseElement=k(e),E([f(this.baseElement,this.base),({base:e,content:t})=>this.resolveNamespace(t,e)]);if(b(t,u.script)){const t=e.replace(d,(e,t)=>N(new URL(t,this.base)));return import(`data:text/javascript, ${encodeURIComponent(t)}`)}if(b(t,u.template)){const t=k(e),s=[],i=this.config.style;return i&&s.push(Promise.all((Array.isArray(i)?i:[i]).map(e=>this.parent.fetch(e).then(e=>e.module.getAttribute("name")))).then(e=>R(t,e.filter(e=>e)))),s.push(()=>{t[a]=this;const e=new U(t,this.parent);return Promise.all(e.promises||[]).then(()=>e)}),E(s)}return b(t,u.style)?w(e,`dg_style_module_content-${this.path.replace(/\./g,"_")}`,!0):b(t,u.json)?C(e):b(t,u.string)?this.content:void 0}resolved(e){return this.module=e,this.resolveState(m.resolved),this.resolver(this),this}resolveEmbeddedType(e){if(this.type)return;const{tagName:t,type:s}=e,i=b(t,"SCRIPT");if(b(t,"TEMPLATE"))this.type=u.template;else{if(i&&b(s,n.namespace))return this.type=u.namespace,this.resolveNamespace(C(e.innerHTML),e.getAttribute("base")||this.base);i&&b(s,n.script)?this.type=u.script:i&&b(s,n.json)?this.type=u.json:b(t,"STYLE")&&b(s,n.style)?this.type=u.style:this.type=u.string}}resolveModule(e){this.resolvedContent=e;let t=e;const r=this.type;if(b(r,u.namespace))t=s(),this.children=e,i(e,e=>t[e.name]=e.module);else if(b(r,u.style)){if(this.scoped){const e=`dg_style_module-${this.path.replace(/\./g,"_")}`,s=w("",e,!0),r=s.sheet;i(t.sheet.cssRules,t=>y(r,t,e)),t=s}}else b(r,u.template)||b(r,u.string)||!this.config.converter||(t=g(`$module => (${this.config.converter})`)(t));return t}resolveNamespace(e,t=this.base){this.parent&&v(e),this.children=Object.entries(e).map(([e,s])=>this.parent?new A(s,t,e,this):s.resolveParent(this));const s=this.config.customTags;return s&&(this.customTagSet=new Set(s)),Promise.all(this.children.map(e=>e.resolve()).filter((e,t)=>{const s=this.children[t].config.prefetch;return!s||new RegExp(s).test(location.hash)}))}resolveRemoteType(e,t,s){this.base=s,this.type||(c.script.some(e=>t.includes(e))?this.type=u.script:t.includes(c.style)?this.type=u.style:t.includes(c.html)?(e=e.trim(),this.type=e.startsWith("<html>")||e.startsWith("<!DOCTYPE ")?u.namespace:u.template):t.includes(c.json)?this.type=u.json:this.type=u.string)}resolveParent(e){const t=this.name;return e.module[t]=this.module,this.parent=e,this}resolveState(e){this.state=e}resolveURI(s=""){if(s=s.trim()){if(h.test(s))return this.parent.fetch(s,this).then(e=>(this.type||(this.type=e.type))&&(!b(this.type,u.namespace)||this.resolveModule(e.resolvedContent))&&this.resolved(e.module));{let i=null;if(p.test(s)){const t=l[this.integrity];if(t)i=[t.resolve(),()=>(this.type=t.type)&&t.resolvedContent];else{e.integrity&&this.integrity&&(l[this.integrity]=this);const t=new URL(s,this.base).href;i=[(e,s)=>E([x(t,this.integrity),e=>e||(s.stop=!0)]),({content:e,type:s})=>this.resolveRemoteType(e,s,t)||this.resolveContent(e)]}}else{const e=T(this.baseElement,s),r=t.get(e);r?i=[r.resolve(),e=>(this.type=e.type)&&e.resolvedContent]:(t.set(e,this),i=[this.resolveEmbeddedType(e)||this.resolveContent(e.innerHTML)])}return E([...i,e=>this.resolveModule(e),e=>this.resolved(e)])}}}})=>(w("[dg-cloak] { display: none !important; }","dg-global-style"),A.resolvedType=u,A.normalizeConfig=v,A))(),P=((e={checked:e=>b(e.tagName,"OPTION")?e.selected:e.checked,file:e=>(e.multiple?e.files:e.files[0])||null,selected:(e,{scope:t})=>{const{name:s,type:i,tagName:r}=e,n=b(r,"SELECT"),o=[...n?e.selectedOptions:T(t?T(document,t):document.body,`input[type="${i}"][name="${s}"]:checked`,!0)].map(e=>M(e));return(n?e.multiple:b(i,"checkbox"))?o:o[0]},value:({type:e,value:t,valueAsNumber:s},{number:i,trim:r},{detail:n})=>n?null:b(e,"date")||b(e,"datetime-local")?new Date(s||0):i?Number.parseFloat(t||0):r?t.trim():t},s={1:"Left",2:"Right",4:"Middle",8:"Back",16:"Forward"},r=((e,t,i)=>{const{current:r,modifier:n,prevent:o,stop:l,stopImmediate:a}=i;if(o&&e.preventDefault(),l&&e.stopPropagation(),a&&e.stopImmediatePropagation(),r&&!b(e.target,e.currentTarget)||n&&e.getModifierState&&(Array.isArray(n)?n:[n]).some(t=>!e.getModifierState(t)))return;const c=$(e,KeyboardEvent);if(c||$(e,MouseEvent)){const{code:t,key:r}=i;if(c&&t&&!(Array.isArray(t)?t:[t]).every(t=>new RegExp(t).test(e.code)))return;if(r){const t=c?e.key:s[e.buttons];if(t&&!(Array.isArray(r)?r:[r]).every(e=>new RegExp(e).test(t)))return}}const h={...d};m({sensitive:i.sensitive||!1}),t(e),m(h)}),o=class{constructor(e,t={},s=null,i=-1,r=null,n=(s?s.scopes:[h,l]),o=null){this.profile=e,this.scopes=n,this.baseScopes=n,s?(this.parent=s,this.parentNode=o||s.node||s.parentNode,s.children[i]=this):this.parentNode=e.node.parentNode||e.landmark.parentNode;const{node:a,plain:c,moduleScope:d,raw:u,text:p,unique:m}=e;if(b(a.tagName,"HTML"))return this.closures=t,this.create();if(u)return this.resolveNode(m?a:a.cloneNode(!0));if(c)return d?this.resolveClosures(d,t):this.closures=t,this.resolveNode(m?a:a.cloneNode(!1),()=>this.resolveChildren());if(p)return this.closures=t,this.controller=new O(this,t),this.resolveNode(m?a:document.createTextNode(""),()=>this.controller.trigger());if(r)this.index=i,this.sliceScope=r,this.resolvedSliceScope=_.resolveScope(r),this.resolveClosures(this.resolvedSliceScope,t);else{d?this.resolveClosures(d,t):this.closures=t;const e=this.closures.each;if(e)return this.children=[],this.resolveLandmark(),this.controller=new O(this,e),this.controller.trigger(),this}this.baseClosures=this.closures;const v=this.closures.exist;v?(this.resolveLandmark(),this.existController=new O(this,v),this.existController.trigger()):this.create()}destructor(){const{plain:e,raw:t}=this.profile;t?this.node.remove():(this.destroy(),e||(this.landmark&&this.landmark.remove(),this.upperBoundary&&this.upperBoundary.remove(),this.existController&&this.existController.destructor())),y(this)}create(){let e=[()=>this.initialize()];const t=this.closures.loading;t&&(e=[t.processor(),e=>this.postLoad(e),...e]),E(e)}destroy(){const e=this.node,{unloading:t,unloaded:s}=this.closures.directives||{};this.sentry&&u.delete(this.sentry),Reflect.deleteProperty(this,"sentry"),t&&t.processor(e),this.removeChildren(),this.profile.plain||(this.controller&&(this.controller.destructor()||Reflect.deleteProperty(this,"controller")),this.childrenController&&(this.childrenController.destructor()||Reflect.deleteProperty(this,"childrenController")),i(this.controllers,e=>e.destructor())||Reflect.deleteProperty(this,"controllers"),i(this.eventHandlers,({target:e,parameters:t})=>e.removeEventListener(...t))||Reflect.deleteProperty(this,"eventHandlers")),e&&(this.landmark?e.replaceWith(this.landmark):e.remove()),delete this.node,s&&s.processor(e),this.baseClosures&&(this.closures=this.baseClosures),this.scopes=this.baseScopes}initialize(){if(!this.profile)return;const{node:e,unique:s,virtual:i}=this.profile,{child:r,loaded:n,sentry:a}=this.closures.directives||{};a&&(this.sentry={...a},u.add(this.sentry)),b(e.tagName,"HTML")?(l=this.scopes[2]||_.resolveScope({}),t.map(e=>new o(e,g(v(e.closures,2))(h,l))),n&&n.processor()):(r&&(this.childrenController=new O(this,r)),this.resolveNode(!i&&(s?e:e.cloneNode(!1)),()=>this.resolveChildren()||this.resolveControllers()),n&&n.processor(this.node))}postLoad(e){let t=n;e&&(b(e.constructor,Object)||!e.constructor&&b(typeof e,"object"))&&(t=e),this.closures&&this.resolveClosures(_.resolveScope(t),this.closures.postLoad||this.closures)}removeChildren(){if((this.children||[]).length&&(i(this.children,e=>e&&e.destructor()),this.children.length=0),this.node)this.node.innerHTML="";else if(this.upperBoundary){let e=this.upperBoundary.nextSibling;for(;e&&!b(e,this.landmark);){const t=e.nextSibling;e.remove(),e=t}}}resolveChildren(){const e=this.profile.children;!this.children&&(e||b((this.childrenController||{}).name,"html"))&&(this.children=[]),this.childrenController?this.childrenController.trigger():i(e,(e,t)=>new o(e,(this.closures.children||[])[t],this,t))}resolveClosures(e,t){this.closures=t(e),this.scopes=[...this.scopes,e]}resolveControllers(){const{controllers:e=[],eventHandlers:t=[]}=this.closures.directives||{};this.controllers=e.map(e=>new O(this,e).trigger()),this.eventHandlers=t.map(e=>this.resolveEventHandler(e))}resolveEventHandler({event:e,decorators:t={},processor:s,name:i,options:n=!!i}){const o=t.target||this.node,l=[e,i?e=>this.update(e,i,s,t):e=>r(e,s,t),n];return o.addEventListener(...l),{target:o,parameters:l}}resolveLandmark(){if(this.landmark)return;const{index:e,parent:t,parentNode:s,profile:i}=this;let r=null;r=b(e,0)?t.upperBoundary.nextSibling:s.contains(i.landmark||null)?i.landmark:t&&(t.node?null:t.landmark),this.landmark=s.insertBefore(document.createTextNode(""),r),(i.each||i.virtual)&&(this.upperBoundary=s.insertBefore(document.createTextNode(""),this.landmark))}resolveNode(e,t=null){this.resolveLandmark(),e?(this.node=e,e[a]=this,t&&t(),e.isConnected||this.parentNode.insertBefore(e,this.landmark),e.removeAttribute&&e.removeAttribute("dg-cloak")):t&&t()}update(t,s,i,r){const n={...d};m(),i(e[s](this.node,r,t)),m(n)}})=>m()&&o)(),U=((t={$:"controller","+":"event"},o=r("checked","file","selected","value"),l=r("loaded","sentry","unloading","unloaded"),a=r("STYLE","SCRIPT"),c=(e=>`{ ${e} }`),h=(e=>e.trim().replace(/-[a-z]/g,e=>e[1].toUpperCase()).replace(/-[A-Z]/g,e=>`-${e[1].toLowerCase()}`)),d=((e,t)=>{const[s,i=!0]=e.split(":").map(e=>decodeURIComponent(h(e)));return t[s]=A(i),`${s}: ${S(t[s])&&!b(s,"target")?`\`${i}\``:i}`}),u=((e,t=n,s="()")=>`{ processor: ${s} => { return ${e.trim()}; }, ${Object.entries(t).map(([e,t])=>`${e}: ${t}`).join(", ")} }`),m=class{constructor(t,r=null,n=null,o=null,l=!1){!o&&!n&&(this.root=!0),this.node=t,l&&(this.unique=l);const c=t.nodeType;if(this.promises=[],b(c,Node.TEXT_NODE)){const e=t.textContent.trim();if(!e)return;e.includes("${")&&e.includes("}")?(this.text=!0,n&&(this.root=!0)&&n.push(this)&&(n=null),this.closures=u(`\`${e}\``,{name:N("text")}),this.resolveLandmark(t)):this.raw=!0}else if(b(c,Node.ELEMENT_NODE)){const e="dg-cloak",{attributes:o,nodeName:l}=t,c="@raw",d=o[c];if(d||a[l])this.raw=!0,n&&t.removeAttribute(e),d&&t.removeAttribute(c);else{this.directives={controllers:[],eventHandlers:[]};const a=new Set,c=h(l.toLowerCase()),d=!(r&&r.customTagSet&&r.customTagSet.has(c))&&($(t,HTMLUnknownElement)||/[A-Z-]/g.test(c));if((d||b(t.tagName,"TEMPLATE"))&&(this.virtual=!0),i([...o],({name:e,value:s})=>this.resolveDirective(t,r,e,s,a)),this.virtual)this.resolveLandmark(t);else if(a.has("style")){const e=t.style,r=[...e];r.length&&(this.inlineStyle=t.getAttribute("style"),this.styles=s(),i(r,t=>{const s=e[t],i=e.getPropertyPriority(t);this.styles[t]=i?`${s} !${i}`:s}))}this.landmark||this.loading||!b(Object.keys(this.directives).length,2)||this.directives.controllers.length||this.directives.eventHandlers.length?n&&(this.root=!0)&&n.push(this)&&(n=null):(this.plain=!0,n&&t.hasAttribute(e)&&(i(t.children,t=>t.setAttribute(e,""))||t.removeAttribute(e))),d?this.promises.push(r.fetch(c).then(e=>this.resolveTemplate(e))):this.directives.child||b(t.tagName,"HTML")||this.resolveChildren(t,r,n)}}else if(b(c,Node.DOCUMENT_FRAGMENT_NODE))this.resolveChildren(t,r,n);else if(b(c,Node.COMMENT_NODE)){if(!e.commentNode)return this.resolveLandmark(t);this.raw=!0}if(o&&o.children.push(this),this.promises.length){const e=Promise.all(this.promises).then(()=>(this.root&&this.resolveClosures(),""));o&&o.promises.push(e)}else this.root&&this.resolveClosures(),delete this.promises}resolveChildren(e,t,s){const r=this.virtual?e.content.childNodes:e.childNodes;return r.length&&(this.children=[],i(r,e=>new m(e,t,s,this,!!this.unique)),this.plain&&this.children.every(e=>e.raw)&&(this.raw=!0)&&Reflect.deleteProperty(this,"plain")),this}resolveClosures(e=null){if(!this.closures){let t="";if(!this.raw){const s=", ",i=this.plain?"":Object.entries(this.directives||{}).map(([e,t])=>`${e}: ${Array.isArray(t)?`[${t.join(s)}]`:t}`).join(s);if(t=`${i?`directives: ${c(i)}, `:""}${this.children?`children: [${this.children.map(e=>e.resolveClosures(this.innerModuleScope)).join(s)}]`:""}`,this.loading){const e=t?v(c(t)):"";t=`loading: ${this.loading}, ${e&&`postLoad: ${e}`}`}this.exist&&(t=`exist: ${this.exist}, ${t}`),this.each&&(t=`each: ${this.each}, ${t?`slice: ${v(c(t))}`:""}`),t?(t=c(t),e&&(t=v(t))&&(this.moduleScope=e)):(this.raw=!0)&&Reflect.deleteProperty(this,"plain"),this.root&&(this.closures=t)}return t}return this.closures}resolveDirective(e,i,r,n,a){const h=t[r[0]];if(!h)return;this.virtual||e.removeAttribute(r);const p=s(),[m,...v]=r.substr(1).split("#"),f=s(),y=v.filter(e=>e).map(e=>d(e,f)).join(", ");if(y&&(p.decorators=c(y)),b(h,"event")){p.event=N(m);const{capture:e,once:t,passive:s}=f;(e||t||s)&&(p.options=`{ capture: ${e||!1}, once: ${t||!1}, passive: ${s||!1} }`),this.directives.eventHandlers.push(u(n,p,S(f.event)?f.event:"$event"))}else if(b(m,"loading"))this.loading=u(n,p);else if(l[m]){const e=b(m,"sentry"),t=e?"next":"node",s=e?"$nextRouter":"$node";this.directives[m]=u(n,p,S(f[t])?f[t]:s)}else{b(m,"watch")||(p.name=N(m));const t=u(n,p);if(b(m,"each"))this.each=t,this.resolveLandmark(e),delete this.unique;else if(b(m,"exist"))this.exist=t,this.resolveLandmark(e);else if(b(m,"html")||b(m,"text"))this.namespace=i,this.directives.child=t;else if(this.directives.controllers.push(t),b(m,"class"))e.classList.length&&(this.classNames=[...e.classList].map(e=>e.trim()));else if(o[m]){const{tagName:t,type:s}=e,i=b(m,"checked"),r=b(m,"value"),o=b(m,"selected"),l=b(s,"checkbox")||b(s,"radio"),a=b(s,"file");(b(t,"INPUT")&&(a&&b(m,"file")||l&&(i||o)||!l&&!a&&r)||b(t,"OPTION")&&i||b(t,"SELECT")&&o||b(t,"TEXTAREA")&&r)&&(p.event=N(f.input?"input":"change"),this.directives.eventHandlers.push(u(`(() => { try { Object.is(${n}, $$_dg_data) || (${n} = $$_dg_data); } catch (error) {} })()`,p,"$$_dg_data")))}else a.add(m)}}resolveLandmark(e){this.landmark||(this.landmark=document.createTextNode(""),this.promises.push(Promise.resolve().then(()=>e.replaceWith(this.landmark))))}resolveTemplate(e){const t=e.module;let r=p.get(t);if(!r){r=s();const n=$(t,m),o=n?t:(t||{}).template;r.namespace=n?e.parent:e,r.children=o.children,i(r.children,e=>e.namespace&&(e.namespace=r.namespace)),p.set(t,r),n||p.set(o,r)}return Object.assign(this,r),this.namespace.resolve().then(e=>this.innerModuleScope=e.extract()[this.namespace.name]),""}updateNamespace(e){this.namespace&&(this.namespace=e),i(this.children,t=>t.updateNamespace(e))}})=>m)(),_=((e={bubble:"bubble",self:"self",mutation:"mutation"},t=!1,r=!1,o=new Set([Array,Object]),l={get:(e,s)=>{const i=d.controller,r=Reflect.get(e,s),n=Reflect.getPrototypeOf(e);if(t||!i||h.has(s)||n&&Reflect.has(n,s)||$(r,Function))return r;const o=e[a];if(n)if(o.has(d.topology)){const e=d.topology.fetch(s);$(e,f)&&e.subscribe()}else o.forEach(e=>e.fetch(s).subscribe());else o[s].subscribe();return r},set:(e,t,s)=>{if(r||h.has(t))return Reflect.set(e,t,s);const i=d.topology,n=e[a];return $(n,Set)&&n.has(i)&&i.unsubscribe(),b(Reflect.get(e,t),s)||(s=m(s,e[a],t),Reflect.set(e,t,s),v(n,t,s)),!0},deleteProperty:(e,t)=>{const s=Reflect.has(e,t);return!!Reflect.deleteProperty(e,t)&&(s&&v(e[a],t),!0)}},h=new Set([a,Symbol.asyncIterator,Symbol.hasInstance,Symbol.isConcatSpreadable,Symbol.iterator,Symbol.match,Symbol.matchAll,Symbol.replace,Symbol.search,Symbol.species,Symbol.split,Symbol.toPrimitive,Symbol.toStringTag,Symbol.unscopables]),u=((e,t)=>{d.sensitive?e.trigger(t):c.has(e)||(c.add(e),queueMicrotask(()=>e.trigger(t)))}),p=((e=null,t="")=>e?e.fetch(t):new f),m=((e,t=null,n="")=>{const c=$(t,Set)||Array.isArray(t)?[...t].map(e=>p(e,n)):[p(t,n)];if(!$(e)||$(e,HTMLElement))r&&i(c,t=>t[a].value=e);else if(e[a])i(c,t=>e[a].add(t));else{const n=e.constructor;if(o.has(n)){const o=new Proxy(t?new n:s(),l);if(t)o[a]=new Set(c),r&&i(c,e=>e[a].value=o);else{const e=c[0];o[a]=e,e[a].value=o}return i(w(e),t=>o[t]=m(e[t],c,t)),t||Object.seal(o),o}e[a]=new Set(c)}return e}),v=((t,s,i)=>{if($(t,Set))return t.forEach(e=>v(e,s,i));s&&(t=t.fetch(s)),t.update(i,e.self)}),f=class{constructor(e=null,t=""){if(e){e[t]=this;const s=e[a].path;this[a]={parent:e,path:s?`${s}.${t}`:t}}else this[a]={path:t}}destructor(){i(Object.keys(this),e=>this[e].destructor());const e=this[a];delete e.parent,e.controllerSet&&(e.controllerSet.clear(),delete e.controllerSet),y(this)}dispatch(t=e.bubble){const{controllerSet:s,parent:i}=this[a];if(s){const i=b(t,e.bubble);s.forEach(e=>u(e,i))}!b(t,e.mutation)&&i&&i[a].parent&&i.dispatch()}fetch(e){return this[e]||new f(this,e)}subscribe(){d.topology=this;const e=d.controller,{topologySet:t,visitedTopologySet:s}=e;if(s.has(this))return;const i=this[a],{controllerSet:r,parent:n}=i;n&&n[a].parent&&n.unsubscribe(e),t.add(this),s.add(this),r?r.add(e):i.controllerSet=new Set([e])}unsubscribe(e=d.controller){e.topologySet.delete(this);const t=this[a].controllerSet;t&&t.delete(e)}update(t,s=e.mutation){const r=this[a],o=r.value;b(o,t)||((!Reflect.has(r,"oldValue")||d.sensitive)&&(r.oldValue=o),r.value=t,$(o)&&!$(o,HTMLElement)&&o[a]&&o[a].delete(this)&&i(w(o),e=>this[e]&&this[e].update((t||n)[e])),$(t)&&!$(t,HTMLElement)&&t[a]&&t[a].add(this)&&i(w(t),e=>p(this,e).update((t||n)[e])),this.dispatch(s))}})=>{f.resolveScope=(e=>{r=!0;const t=m(e);return r=!1,t});const g=JSON.stringify;return JSON.stringify=((...e)=>{t=!0;const s=g(...e);return t=!1,s}),f})(),I=((n="",o=null,c=[],d=null,m=null,f=!1,y=null,S=null,C=null,N=null,x=null,k={aliases:{},default:"",hashPrefix:"#",overrideRelativeLinks:!0,redirects:{},scenarios:{}},R=((e=r("A","AREA"))=>t=>{const s=t.target;if(!e[s.tagName]||!s.hasAttribute("href"))return;const i=s.getAttribute("href").trim(),r=k.hashPrefix;i&&![r,".","/"].some(e=>i.startsWith(e))&&!b(i,new URL(i,document.baseURI).href)&&(s.href=`${r}${i}`)})(),j=((e=((e=r("$modules","$router","$validator"),s=((s,r)=>{i(Object.keys(h).filter(t=>!e[t]),e=>Reflect.deleteProperty(h,e));const n=new Set,o=s.extract(n)[s.name];if(Object.assign(h,o),h.$modules=o,d?i(w(h.$router),e=>h.$router[e]=r[e]):h.$router=r,i(c,e=>n.has(e)||(e.disabled=!0)),c=[...n],i(c,e=>e.disabled=!1),d){i(t,e=>e.updateNamespace(s));const e=(d.closures.directives||{}).loaded;e&&e.processor()}else d=new P(m,g(v(m.closures,2))(h,l))}))=>()=>{p.clear();const e=Object.assign({},...N.map(e=>e.modules));i(Object.keys(e),t=>$(e[t],L)||(e[t]=C.find(e=>e.resolveModule(t,n)).modules[t]));const r=new L({content:e,customTags:o,type:L.resolvedType.namespace},n),l=r.resolve().then(()=>s(r,_.resolveScope(y)));if(d){const{unloading:e,unloaded:t}=d.closures.directives||{};e&&e.processor(),t&&t.processor()}else i(S,e=>Reflect.construct(U,[e,r,t,null,!0]));return l})(),s=((e=((e,t)=>{e.findIndex(e=>e)<0||(t.stop=!0,f=!0,location.hash=`${h.$router.hashPrefix}${h.$router.path}`)}))=>t=>Promise.all([...u].map(e=>e.processor(y))).then(s=>e(s,t)))())=>(t=location.hash.replace(k.hashPrefix,""))=>{if(f)return void(f=!1);t.startsWith("/")||(t=`/${t}`);const{aliases:r,hashPrefix:n,redirects:o}=k,[l="",a=""]=t.split("?"),c=r[l]||o[l];if(c)return t=a?`${c}?${a}`:c,r[l]||history.replaceState({path:t},t,`${n}${t}`),j(t);const h={},u=b(l,"/")?[""]:l.split("/");if(C=[],!x.match(C,h,u))return j(k.default);N=C.slice().reverse(),i(N,e=>e.initialize());const p={};a&&i([...new URLSearchParams(a)],([e,t])=>p[e]=A(t));const m=Object.assign({},...N.map(e=>e.variables),p,...N.map(e=>e.constants));y=Object.freeze({hash:t,hashPrefix:n,path:l,paths:u,query:a,queries:p,scenarios:h,schemes:m,identity:Symbol("identity")});const v={};E([d&&s(v),()=>e()],v)})(),M=((e={detail:!0},t=new CustomEvent("change",e),s=new CustomEvent("input",e))=>e=>b(e.target.tagName,"FORM")&&i(document.querySelectorAll("input, textarea"),e=>{e.dispatchEvent(s),e.dispatchEvent(t)}))(),O=class{constructor({children:e,path:t="",constants:s={},variables:r={},modules:n=null,tailable:o=!e},l=null){this.constants=s,this.variables=r,this.modules=n,this.tailable=o,this.scenarios=$(t)?Object.entries(t).map(([e,t])=>({scenario:e,regExp:new RegExp(t||"^$")})):[{scenario:t,regExp:new RegExp(`^${t}$`||"^$")}],l&&(this.parent=l,l.children.push(this)),e&&(this.children=[],i(e,e=>new O(e,this)))}initialize(){this.initialized||(this.initialized=!0,this.modules&&(this.modules=L.normalizeConfig(this.modules)))}match(e,t,s,i=s.length,r=0){const n=this.scenarios.length;if(i>=n&&this.scenarios.every(({scenario:e,regExp:i},n)=>{const o=s[r+n];if(i.test(o))return t[e]=o,!0})&&(b(i,r+=n)&&this.tailable||(this.children||[]).find(n=>n.match(e,t,s,i,r))))return e.push(this),!0}resolveModule(e,t){if(this.modules){const s=this.modules[e];return this.modules[e]=s&&($(s,L)?s:new L(s,t,e)),this.modules[e]}}},I=((t={})=>{const{options:s={},rootSelectors:i=["title","body"],routing:r={}}=t;Object.assign(e,s),Object.assign(k,r);const{overrideRelativeLinks:l,scenarios:a}=k;l&&document.body.addEventListener("click",R,!0),document.body.addEventListener("reset",M),S=[...new Set(i.map(e=>[...T(document,e,!0)]).flat())],m=new U(document.querySelector("html")),({base:n,customTags:o}=t),x=new O(a),window.addEventListener("hashchange",()=>j()),j()}),H="1.0.0 - RC")=>{const D=((e=((e,t)=>{const s=e[t],i=function(...e){const t=s.bind(this)(...e);return this[a]&&this[a].forEach(e=>e.dispatch()),t};Reflect.defineProperty(i,"name",{configurable:!0,value:t}),Reflect.defineProperty(e,t,{get:()=>i})}))=>(t,s)=>{const r=t.prototype;i(s,t=>e(r,t))})(),q=["set","delete"],z=["add","delete"];return D(Date,["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"])||D(Map,q)||D(Set,z)||D(WeakMap,q)||D(WeakSet,z),window.$dagger=Object.freeze(Object.assign(s(),{register:D,runtime:I,version:H})),I})())=>o.querySelector('script[type="dagger/configs"]')?document.addEventListener("DOMContentLoaded",()=>E([f(o),({base:e,content:t})=>I(Object.assign({base:e},t))])):I)();