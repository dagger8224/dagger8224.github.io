export default((e={integrity:!0},t=null,s=[],r=(()=>Object.create(null)),i=((e,t)=>{if(!e)return;const s=e.length||0;for(let r=0;r<s;++r)t(e[r],r)}),o=(e=>{if(e&&T(typeof e,"object")){i(E(e),t=>o(e[t]));try{Object.freeze(e)}catch(e){}}return e}),n=((...e)=>{const t=r();return i(e,e=>t[e]=!0)||t}),l=r(),a=document.head,c=r(),h=!1,d=Symbol("meta"),u=new Set,p=Object.assign(r(),{$modules:r(),$router:r(),$validator:(e,t,{type:s,assert:r,required:o}={})=>{(null==e||Number.isNaN(e))&&U([`The data "${t}" should be assigned a valid value instead of "%o" before using`,e],!o),s&&(Array.isArray(s)?U([`The type of data "${t}" should be one of "%o" instead of "%o"`,s,(e.constructor||{}).name],s.some(t=>A(e,t))):U([`The type of data "${t}" should be "%o" instead of "%o"`,s,(e.constructor||{}).name],A(e,s))),r&&(A(r,Function)?U(`The assert of "${t}" is falsy`,r(e)):Array.isArray(r)?i(r,s=>{U(`The type of assert should be "function" instead of "${typeof s}"`,A(s,Function)),U(`The assert of "${t}" is falsy`,s(e))}):U(`The type of assert should be "function" or "function array" instead of "${typeof r}"`))}}),m=r(),f=new Set,y=new Map,g=((e={controller:null,sensitive:!1,topology:null})=>(t=null)=>Object.assign(m,e,t))(),v=((e,t=1)=>{if(T(t,1))return`_$$_dg_scope => { with (_$$_dg_scope) { return ${e}; } }`;{const s=new Array(t).fill().map((e,t)=>`_$$_dg_scope_${t}`);return`(${s.join(", ")}) => { ${s.map(e=>`with (${e})`).join(" ")} { return ${e}; } }`}}),b=((e,t=document.baseURI)=>{const s=j(e,'script[type="dagger/configs"]'),r=s.getAttribute("src");return s.hasAttribute("base")&&(t=new URL(s.getAttribute("base")||"",t).href),r?R(new URL(r,t),s.integrity,!0).then(({content:e})=>({base:t,content:C(e)})):{base:t,content:C(s.textContent)}}),$=(e=>i(Reflect.ownKeys(e),t=>Reflect.deleteProperty(e,t))),S=((t,s,r)=>e.directiveAttribute&&t.setAttribute(`${s}-debug`,r)),w=(e=>new Function(`return ${e};`)()),T=((e,t)=>Object.is(e,t)),A=((e,t=Object)=>e instanceof t),N=(e=>T(typeof e,"string")),C=(e=>{try{return JSON.parse(e)}catch(t){U(`Failed to parse string "${e}" as JSON`)}}),E=(e=>Reflect.ownKeys(e).filter(e=>!T(e,d))),x=(e=>`'${e}'`),k=(([e,...t],s={stop:!1})=>{if(!s.stop)return A(e,Promise)?e.then(e=>k([e,...t],s)):A(e,Function)?k([e(null,s),...t],s):t.length?k([t.shift()(e,s),...t],s):e}),j=((e,t,s=!1,r=!1)=>{const i=e[s?"querySelectorAll":"querySelector"](t);return r||U(`Failed to get element matched selector "${t}"`,s?i.length:i),i}),R=((t,s="",r=!1)=>fetch(t,e.integrity&&s?{integrity:`sha256-${s}`}:{}).then(e=>{if(e.ok){const s=e.headers.get("content-type");return U(`Missing "content-type" for the response content of "${t}"`,s),e.text().then(e=>({content:e,type:s}))}U(`Failed to fetch remote module from "${t}"`,!r)}).catch(()=>{const s=`Failed to fetch remote module from "${t}"`;r?U(s):e.moduleLog&&F(s)})),L=(e=>{try{return JSON.parse(e.replace(/'/g,'"'))}catch(t){return e}}),M=(e=>{const t=document.createElement("template");return t.innerHTML=e,t.content}),O=((e,t)=>i(e.children,e=>{T(e.tagName,"TEMPLATE")?(e.getAttribute("$html")&&e.setAttribute("dg_scoped_styles",t.join(",")),O(e.content,t)):A(e,HTMLElement)&&i(t,t=>e.setAttribute(t,""))})),P=((e,t=!0)=>{if(!N(e)){if(null==e||Number.isNaN(e))return"";if(A(e))return JSON.stringify(e);e=String(e)}return t?e.trim():e}),_=(e=>e&&Reflect.has(e[d]||{},"value")?e[d].value:e.value||e.textContent),{asserter:U,logger:I,warner:F}=((e=((e,t,s)=>{const r=e.startsWith('"')?1:0,o=[],n=[];return i(e.split('"').filter(e=>e),(e,i)=>(i+r)%2?o.push(`%c"${e}"`)&&n.push(s):o.push(`%c${e}`)&&n.push(t))||[o.join(""),...n]}),t=((t,s,r,o,n,l=!1)=>{if(s)return;if(Array.isArray(t)){const[s,...l]=t,a='%c"%o"';let c=[],h="";i(`${s}, please double check.`.split('"%o"'),(t,s)=>{const[r,...i]=e(t,o,n);h+=r,c=[...c,...i],s<l.length&&(h+=a,c=[...c,n,l[s]])}),r(h,...c)}else r(...e(`${t}, please double check.`,o,n));if(l)throw new Error("dagger AssertionError occurred!")}))=>({asserter:(e,s)=>t(e,s,console.assert.bind(console,!1),"color: #ff0000","color: #b22222",!0),logger:t=>console.log(...e(t,"color: #337ab7","color: #9442d0")),warner:(e,s)=>t(e,s,console.warn,"color: #ff0000","color: #b22222")}))(),H=((e=((e,t,s,{name:r})=>T(e)?t.removeAttribute(r):t.setAttribute(r,P(e))),t=((t=new Event("change"),s=((e,t,s,r,i,o,n,l,a,c,h,d,u)=>{let p=null;const m=i.get(s);if(m){if(p=m.shift(),m.length||i.delete(s),e>0){const t=r[e-1],s=p.landmark;if(T(t.landmark.compareDocumentPosition(s),Node.DOCUMENT_POSITION_PRECEDING)){const e=p.upperBoundary,r=[e];let i=e;for(;!T(i,s);)i=i.nextSibling,r.push(i);const o=document.createDocumentFragment();o.append(...r),u.insertBefore(o,t.landmark.nextSibling)}}p.index=e,r[e]=p,p.resolvedSliceScope[l]=t,p.resolvedSliceScope[n]=e}else p=new z(h,d,c,e,{[l]:t,[a]:s,[n]:e});const f=o.get(s);f?f.push(p):o.set(s,[p])}),r=((e,t,s)=>{const r=_(e);return s?(t||[]).some(e=>T(e,r)):T(t,r)}),o=((e,t)=>{if(!t)return;const[s,r=""]=t.split(":").map(e=>e.trim());U(`The content "${t}" is not a valid style declaration`,s&&r),e[s]=r}),n=((e,t=2)=>String(e).padStart(t,"0")))=>({$boolean:(e,t,s,{name:r})=>e?t.setAttribute(r,""):t.removeAttribute(r),checked:(s,r,{parentNode:o},{decorators:n})=>{const{tagName:l,type:a}=r,c=T(l,"OPTION"),h=T(a,"radio");if(c||T(l,"INPUT")&&(h||T(a,"checkbox"))){let e=null;if(s=!!s,c){if(T(s,r.selected))return;r.selected=s;const n=o;n&&(!n.multiple&&s&&(e=j(n,"option",!0)),n.$changeEvent||(n.$changeEvent=!0,n.addEventListener("change",e=>i(j(e.target,"option",!0),e=>e.dispatchEvent(t)))))}else r.checked=s,h&&s&&(e=j(n.scope?j(document,n.scope):o,`input[type="radio"][name="${r.name}"]`,!0,!0));e&&i(e,e=>e.dispatchEvent(t))}else e(s,r,null,{name:"checked"})},class:(e,t,{profile:{classNames:s}})=>{if(e){const r=new Set(s);Array.isArray(e)?i(e,e=>r.add(P(e))):A(e)?i(Object.entries(e),([e,t])=>t&&r.add(e.trim())):r.add(P(e)),t.className=[...r].join(" ").trim()}else s?t.className=s.join(" "):t.removeAttribute("class")},each:(e,t,r,{decorators:o})=>{e=Object.entries(e||l);const{children:n,childrenMap:a=new Map,profile:c,parentNode:h}=r;if(!e.length)return a.clear()||r.removeChildren();let{item:d="item",key:u="key",index:p="index"}=o;T(d,!0)&&(d="item"),T(u,!0)&&(u="key"),T(p,!0)&&(p="index"),F(['duplication found in slice scope schemes "%o"',{item:d,key:u,index:p}],!T(u,p)&&!T(u,d)&&!T(d,p));const m=new Map,f=r.closures.slice;i(e,([e,t],i)=>s(i,e,t,n,a,m,p,u,d,r,c,f,h)),n.length=e.length,r.childrenMap=m,a.forEach(e=>i(e,e=>e.destructor())),a.clear()},exist:(e,t,s)=>e?t||s.create():s.destroy(),file:e=>U(['The data bound to directive "$file" should either be "File" or "FileList" instead of "%o"',e],!e||A(e,File)||A(e,FileList)),focus:(e,t,s,{decorators:{prevent:r=!1}})=>e?t.focus({preventScroll:r}):t.blur(),html:(e,t,s)=>{if(e=P(e),s.removeChildren(),!e)return;const r=[],o=s.profile,n=M(e);if(!t){const e=o.node.getAttribute("dg_scoped_styles");e&&O(n,e.split(","))}if(Reflect.construct(q,[n,o.namespace,r,null,!0]),r.length){const e=s.scopes,t=e.length;i(r,(r,i)=>Promise.all(r.promises||[]).then(()=>new z(r,w(v(r.closures,t))(...e),s,i,null,e,(r.landmark||r.node).parentNode)))}t?t.appendChild(n):s.parentNode.insertBefore(n,s.landmark)},selected:(s,o)=>{const{type:n,tagName:l}=o,a=T(l,"SELECT");if(a||T(l,"INPUT")&&(T(n,"checkbox")||T(n,"radio"))){const e=a?o.multiple:T(n,"checkbox");if(e&&U(['The data bound to directive "$selected" of element "%o" should be "array" instead of "%o"',o,s],null==s||Array.isArray(s)),a){const n=j(o,"option",!0);i(n,t=>t.selected=r(t,s,e)),e||i(n,e=>e.dispatchEvent(t))}else o.checked=r(o,s,e)}else e(s,o,null,{name:"selected"})},style:(e,t,{profile:{inlineStyle:s,styles:r}})=>{if(e){const s={...r};Array.isArray(e)?i(e,e=>o(s,P(e))):A(e)?i(Object.entries(e),([e,t])=>s[e.trim()]=P(t)):i(P(e).split(";"),e=>o(s,e.trim())),t.style.cssText=Object.entries(s).filter(([e,t])=>t).map(([e,t])=>`${e}: ${t}; `).join("").trim()}else s?t.setAttribute("style",s):t.removeAttribute("style")},text:(e,t)=>{e=P(e),T(e,t.textContent)||(t.textContent=e)},value:(e,t,s,{decorators:r})=>{s.value=e;const{tagName:i,type:o}=t,l=T(i,"INPUT");if(U(['It\'s illegal to use directive "$value" on element "%o"',t],!(l&&T(o,"file"))),l){const s=T(o,"date")||T(o,"datetime-local");if(A(e,Date))if(s||T(o,"week"))t.valueAsNumber=e;else if(T(o,"month"))t.value=`${e.getUTCFullYear()}-${n(e.getUTCMonth()+1)}`;else if(T(o,"time")){const s=t.step||0;let r=`${n(e.getUTCHours())}:${n(e.getUTCMinutes())}`;s%60&&(r=`${r}:${n(e.getUTCSeconds())}`,s%1&&(r=`${r}.${n(e.getUTCMilliseconds(),3)}`)),t.value=r}else t.value=e;else e=P(e,r.trim||!1),s?t.valueAsNumber=new Date(e):t.value=e}else t.value=P(e,r.trim||!1)}}))(),s=n("autocapitalize","autocomplete","contenteditable","controls","disabled","draggable","loop","multiple","muted","open","preload","readonly","required","reversed","spellcheck","translate","wrap"),r=n("checked","focus","selected"),o=class{constructor(i,{name:o,decorators:n=l,processor:a}){if(this.nodeContext=i,this.decorators=n,this.processor=a,this.topologySet=new Set,this.visitedTopologySet=new Set,o){this.name=o,r[o]&&(this.lazy=!0),this.updater=s[o]&&t.$boolean||t[o]||e;const n=i.node;T(o,"selected")&&n&&T(n.tagName,"SELECT")&&(this.observer=new MutationObserver(()=>this.trigger()),this.observer.observe(n,{childList:!0}))}}destructor(){this.topologySet.forEach(e=>e.unsubscribe(this)),this.topologySet.clear(),this.visitedTopologySet.clear(),this.observer&&this.observer.disconnect(),$(this)}trigger(e=!0){if(u.delete(this),e||this.topologySet&&[...this.topologySet].some(e=>!T(e[d].oldValue,e[d].value))){if(!this.processor)return;this.topologySet.clear(),this.visitedTopologySet.clear();const e={...m};g({controller:this,sensitive:this.decorators.sensitive||!1}),k([this.processor(),t=>g(e)&&this.update(t)])}return queueMicrotask(()=>this.topologySet&&this.topologySet.forEach(e=>Reflect.deleteProperty(e[d],"oldValue"))),this}update(e){if(!this.updater)return;const t=this.nodeContext,s=t.node;this.decorators.immutable&&T(e,this.data)||k([!(s||{}).isConnected&&this.lazy?queueMicrotask(()=>this.updater(e,s,t,this)):this.updater(e,s,t,this),()=>this.data=e])}})=>o)(),D=((t=new Map,s={json:"dagger/json",namespace:"dagger/configs",script:"dagger/script",style:"dagger/style",string:"dagger/string"},o=r(),l={html:"text/html",json:"application/json",script:["application/javascript","javascript/esm","text/javascript"],style:"text/css"},c=/^[$a-zA-Z-_]{1}[\w-$]*$/,h=/^[$a-zA-Z-_]{1}[\w-$]*(\.[$a-zA-Z-_]{1}[\w-$]*)*$/,u=/'BASE\(([-\w@:%.\/+~#=$]+)\)'|"BASE\(([-\w@:%.\/+~#=$]+)\)"/g,p={json:"json",namespace:"namespace",script:"script",style:"style",string:"string",template:"template"},m=/^(http:\/\/|https:\/\/|\/|\.\/|\.\.\/)/i,f={resolved:"resolved",resolving:"resolving",unresolved:"unresolved"},y=((e=n(...Object.keys(p).map(e=>`@${e}`)),t=((e,t)=>((Array.isArray(e)||!A(e))&&(e={uri:e,candidates:e}),e.candidates&&(Array.isArray(e.candidates)||(e.candidates=[e.candidates])),Object.assign(e,(e.candidates||[]).find(e=>A(e)&&(!Reflect.has(e,"media")||matchMedia(e.media).matches)&&(!Reflect.has(e,"condition")||e.condition&&w(e.condition)))),e.type||(e.type=t),e.uri&&(Array.isArray(e.uri)||(e.uri=[e.uri])),e)))=>s=>i(Object.keys(s),r=>e[r]&&A(s[r])?i(Object.entries(s[r]),([e,i])=>{U([`The module named "${e}" already exists in "%o"`,s],!Reflect.has(s,e)),s[e]=t(i,r.substr(1))})||Reflect.deleteProperty(s,r):s[r]=t(s[r]))||s)(),g=((e=((t,s,r=null)=>r&&(t.integrity&&(T(t.integrity,r.integrity)||e(t,s,r.parent))&&!s.includes(t.path)||t.dependencies&&(t.dependencies.includes(r)||t.dependencies.some(t=>e(t,s,r))))&&s.push(t.path)))=>(t,s=null)=>{if(!s)return;s.dependencies||(s.dependencies=[]),s.dependencies.push(t);const r=[];e(t,r,s);const i=s.path;U(`Failed to resolve template module "${i}" with recursive or circular reference "${[i,...r.reverse(),i].join(" -> ")}"`,!r.length)})(),v=((e,t,s)=>t.cssRules?i(t.cssRules,t=>v(e,t,s)):e.insertRule(`${t.selectorText.split(",").map(e=>(e=e.trim())&&`${$.test(e)?e.replace($,`[${s}]$1`):`${e}[${s}]`}, [${s}] ${e}`).join(", ")}{${t.style.cssText}}`)),$=/([\s:+>~])/,E=((e,t="",s=!1)=>{const r=document.createElement("style");return e&&(r.textContent=e),a.appendChild(r),r.disabled=s,r.setAttribute("name",t),S(r,"router",location.hash),S(r,"active",!s),r}),L=class{constructor(t={},s="",r="",i=null){this.name=r,this.module={[d]:this},this.state=f.unresolved,i?(this.resolveParent(i),this.path=i.path?`${i.path}.${r}`:r,this.baseElement=i.baseElement):(this.path=r,this.baseElement=a);const{integrity:o,uri:n,type:l}=t;let c=p[l];Reflect.has(t,"content")?this.content=t.content:n?(this.URIs=n,c||(c=!l)):U([`Failed to parse the config "%o" for module "${this.path}" as there is no valid "content" or "uri" definition`,t]),U(`The type of module "${this.path}" should be one of "json, namespace, script, style, template" instead of "${l}"`,c),l&&(this.type=l),e.integrity&&o&&(this.integrity=o),this.config=t,this.promise=new Promise(e=>this.resolver=e),this.base=new URL(t.base||s,(i||{}).base||document.baseURI).href,Reflect.has(t,"scoped")&&!t.scoped||(this.scoped=!0)}extract(e=null){if(!this.extracted)if(T(this.type,p.style))this.parent.styleModules.push(this.module),this.extracted=!0;else if(!T(this.type,p.template)){const e=T(this.type,p.namespace);e?(this.styleModules||(this.styleModules=[]),this.extracted=Object.assign(r(),...this.children.map(e=>e.extract()))):this.extracted=!A(this.module)||Array.isArray(this.module)?this.module:Object.assign(r(),this.module),this.extracted=!e&&this.config.anonymous?this.extracted:Object.assign(r(),{[this.name]:this.extracted})}return this.parent?(this.styleModules||[]).length&&(this.parent.styleModules=[...this.parent.styleModules||[],...this.styleModules]):e&&i(this.styleModules,t=>e.add(t)),this.extracted}fetch(e,t=null){Array.isArray(e)||(e=e.split("."));const s=e.shift().trim(),r=(this.children||[]).find(e=>T(e.name,s));return U(`Failed to fetch module "${s}" within namespace "${this.path||"[root]"}"`,!T(r)),g(r,t),e.length?r.resolve().then(s=>s.fetch(e,t)):r.resolve()}resolve(){if(!T(this.state,f.unresolved))return this.promise;this.resolveState(f.resolving);let e=[e=>this.resolveModule(e),e=>this.resolved(e)];if(Reflect.has(this,"content")){const t=this.content;[p.namespace,p.json].includes(this.type)?(U(`The config content of module "${this.path}" with type "${this.type}" should be valid "object"`,A(t)),e=[T(this.type,p.namespace)?this.resolveNamespace(t):t,...e]):e=[this.resolveContent(t),...e]}else e=[...this.URIs.map(e=>(U([`The "uri" of module "${this.path}" should be valid "string" instead of "%o"`,e],N(e)),(t,s)=>(s.stop=!!t)||this.resolveURI(e))),()=>U([`Failed to resolve uri of module "${this.path}" from "%o"`,this.URIs],T(this.state,f.resolved))];return k(e),this.promise}resolveContent(e){this.content=e.trim();const t=this.type;if(T(t,p.namespace))return this.baseElement=M(e),k([b(this.baseElement,this.base),({base:e,content:t})=>this.resolveNamespace(t,e)]);if(T(t,p.script)){const t=e.replace(u,(e,t)=>x(new URL(t,this.base)));return import(`data:text/javascript, ${encodeURIComponent(t)}`).catch(e=>U(`Failed to import dynamic script module "${this.path}" with resolved content "${t}"`))}if(T(t,p.template)){const t=M(e),s=[],r=this.config.style;return r&&s.push(Promise.all((Array.isArray(r)?r:[r]).map(e=>this.parent.fetch(e).then(t=>(U(`Failed to fetch style module "${e}" within namespace "${this.parent.path}"`,t&&T(t.type,p.style)),t.module.getAttribute("name"))))).then(e=>O(t,e.filter(e=>e)))),s.push(()=>{t[d]=this;const e=new q(t,this.parent);return Promise.all(e.promises||[]).then(()=>e)}),k(s)}return T(t,p.style)?E(e,`dg_style_module_content-${this.path.replace(/\./g,"_")}`,!0):T(t,p.json)?C(e):T(t,p.string)?this.content:void U(`Failed to resolve module "${this.path}" with unknown type "${t}"`)}resolved(e){return this.module=e,this.resolveState(f.resolved),this.resolver(this),this}resolveEmbeddedType(e){if(this.type)return;const{tagName:t,type:r}=e,i=T(t,"SCRIPT");if(T(t,"TEMPLATE"))this.type=p.template;else{if(i&&T(r,s.namespace))return this.type=p.namespace,this.resolveNamespace(C(e.innerHTML),e.getAttribute("base")||this.base);i&&T(r,s.script)?this.type=p.script:i&&T(r,s.json)?this.type=p.json:T(t,"STYLE")&&T(r,s.style)?this.type=p.style:this.type=p.string}}resolveModule(e){this.resolvedContent=e;let t=e;const s=this.type;if(T(s,p.namespace))t=r(),this.children=e,i(e,e=>t[e.name]=e.module);else if(T(s,p.style)){if(this.scoped){U(`It's invalid to use '$' in style module path "${this.path}"`,!this.path.includes("$"));const e=`dg_style_module-${this.path.replace(/\./g,"_")}`,s=E("",e,!0),r=s.sheet;i(t.sheet.cssRules,t=>v(r,t,e)),t=s}}else T(s,p.template)?U(`It's invalid to use '-' in template module path "${this.path}"`,!this.path.includes("-")):!T(s,p.string)&&this.config.converter&&(t=w(`$module => (${this.config.converter})`)(t));return t}resolveNamespace(e,t=this.base){this.parent&&y(e),this.children=Object.entries(e).map(([e,s])=>this.parent?new L(s,t,e,this):s.resolveParent(this));const s=this.config.customTags;return s&&(U(['The "customTags" should be "string array" instead of "%o"',s],Array.isArray(s)&&s.every(e=>N(e))),this.customTagSet=new Set(s)),Promise.all(this.children.map(e=>g(e,this)||e.resolve()).filter((e,t)=>{const s=this.children[t].config.prefetch;return!s||new RegExp(s).test(location.hash)}))}resolveRemoteType(e,t,s){this.base=s,this.type||(l.script.some(e=>t.includes(e))?this.type=p.script:t.includes(l.style)?this.type=p.style:t.includes(l.html)?(e=e.trim(),this.type=e.startsWith("<html>")||e.startsWith("<!DOCTYPE ")?p.namespace:p.template):t.includes(l.json)?this.type=p.json:this.type=p.string)}resolveParent(e){const t=this.name;return U(`The module name should be valid string matched RegExp "${c.toString()}" instead of "${t}"`,c.test(t)),e.module[t]=this.module,this.parent=e,this}resolveState(t){this.state=t,e.moduleLog&&I(`The module "${this.path||"[root]"}" is "${t}".`)}resolveURI(s=""){if(s=s.trim()){if(h.test(s))return this.parent.fetch(s,this).then(e=>(this.type||(this.type=e.type))&&(!T(this.type,p.namespace)||this.resolveModule(e.resolvedContent))&&this.resolved(e.module));{let r=null;if(m.test(s)){const t=o[this.integrity];if(t)r=[t.resolve(),()=>(this.type=t.type)&&t.resolvedContent];else{e.integrity&&this.integrity&&(o[this.integrity]=this);const t=new URL(s,this.base).href;r=[(e,s)=>k([R(t,this.integrity),e=>e||(s.stop=!0)]),({content:e,type:s})=>this.resolveRemoteType(e,s,t)||this.resolveContent(e)]}}else{const i=j(this.baseElement,s),o=t.get(i);o?(e.moduleLog&&F([`The module "${this.path}" and "${o.path}" refer to the same embedded element "%o"`,i]),r=[o.resolve(),e=>(this.type=e.type)&&e.resolvedContent]):(t.set(i,this),r=[this.resolveEmbeddedType(i)||this.resolveContent(i.innerHTML)])}return k([...r,e=>this.resolveModule(e),e=>this.resolved(e)])}}}})=>(E("[dg-cloak] { display: none !important; }","dg-global-style"),L.resolvedType=p,L.normalizeConfig=y,L))(),z=((e={checked:e=>T(e.tagName,"OPTION")?e.selected:e.checked,file:e=>(e.multiple?e.files:e.files[0])||null,selected:(e,{scope:t})=>{const{name:s,type:r,tagName:i}=e,o=T(i,"SELECT"),n=[...o?e.selectedOptions:j(t?j(document,t):document.body,`input[type="${r}"][name="${s}"]:checked`,!0,!0)].map(e=>_(e));return(o?e.multiple:T(r,"checkbox"))?n:n[0]},value:({type:e,value:t,valueAsNumber:s},{number:r,trim:i},{detail:o})=>o?null:T(e,"date")||T(e,"datetime-local")?new Date(s||0):r?Number.parseFloat(t||0):i?t.trim():t},t={1:"Left",2:"Right",4:"Middle",8:"Back",16:"Forward"},r=((e,s,r)=>{const{current:i,modifier:o,prevent:n,stop:l,stopImmediate:a}=r;if(n&&e.preventDefault(),l&&e.stopPropagation(),a&&e.stopImmediatePropagation(),i&&!T(e.target,e.currentTarget)||o&&e.getModifierState&&(Array.isArray(o)?o:[o]).some(t=>!e.getModifierState(t)))return;const c=A(e,KeyboardEvent);if(c||A(e,MouseEvent)){const{code:s,key:i}=r;if(c&&s&&!(Array.isArray(s)?s:[s]).every(t=>new RegExp(t).test(e.code)))return;if(i){const s=c?e.key:t[e.buttons];if(s&&!(Array.isArray(i)?i:[i]).every(e=>new RegExp(e).test(s)))return}}const h={...m};g({sensitive:r.sensitive||!1}),s(e),g(h)}),o=class{constructor(e,t={},s=null,r=-1,i=null,o=(s?s.scopes:[p,c]),n=null){this.profile=e,this.scopes=o,s?(this.parent=s,this.parentNode=n||s.node||s.parentNode,s.children[r]=this):this.parentNode=e.node.parentNode||e.landmark.parentNode;const{node:l,plain:a,moduleScope:h,raw:d,text:u,unique:m}=e;if(T(l.tagName,"HTML"))return this.closures=t,this.create();if(d)return this.resolveNode(m?l:l.cloneNode(!0));if(a)return h?this.resolveClosures(h,t):this.closures=t,this.resolveNode(m?l:l.cloneNode(!1),()=>this.resolveChildren());if(u)return this.closures=t,this.controller=new H(this,t),this.resolveNode(m?l:document.createTextNode(""),()=>this.controller.trigger());if(i)this.index=r,this.sliceScope=i,this.resolvedSliceScope=B.resolveScope(i),this.resolveClosures(this.resolvedSliceScope,t);else{h?this.resolveClosures(h,t):this.closures=t;const e=this.closures.each;if(e)return this.children=[],this.resolveLandmark(),this.controller=new H(this,e),this.controller.trigger(),this}this.baseClosures=this.closures;const f=this.closures.exist;f?(this.resolveLandmark(),this.existController=new H(this,f),this.existController.trigger()):this.create()}destructor(){const{plain:e,raw:t}=this.profile;t?this.node.remove():(this.destroy(),e||(this.landmark&&this.landmark.remove(),this.upperBoundary&&this.upperBoundary.remove(),this.existController&&this.existController.destructor())),$(this)}create(){let e=[()=>this.initialize()];const t=this.closures.loading;t&&(e=[t.processor(),e=>this.postLoad(e),...e]),k(e)}destroy(){const e=this.node,{unloading:t,unloaded:s}=this.closures.directives||{};this.sentry&&f.delete(this.sentry),Reflect.deleteProperty(this,"sentry"),t&&t.processor(e),this.removeChildren(),this.profile.plain||(this.controller&&(this.controller.destructor()||Reflect.deleteProperty(this,"controller")),this.childrenController&&(this.childrenController.destructor()||Reflect.deleteProperty(this,"childrenController")),i(this.controllers,e=>e.destructor())||Reflect.deleteProperty(this,"controllers"),i(this.eventHandlers,({target:e,parameters:t})=>e.removeEventListener(...t))||Reflect.deleteProperty(this,"eventHandlers")),e&&(this.landmark?e.replaceWith(this.landmark):e.remove()),delete this.node,s&&s.processor(e),this.baseClosures&&(this.closures=this.baseClosures)}initialize(){if(!this.profile)return;const{node:e,unique:t,virtual:r}=this.profile,{child:i,loaded:n,sentry:l}=this.closures.directives||{};l&&(this.sentry={...l,owner:this},f.add(this.sentry)),T(e.tagName,"HTML")?(c=this.scopes[2]||B.resolveScope({}),s.map(e=>new o(e,w(v(e.closures,2))(p,c))),n&&n.processor()):(i&&(this.childrenController=new H(this,i)),this.resolveNode(!r&&(t?e:e.cloneNode(!1)),()=>this.resolveChildren()||this.resolveControllers()),n&&n.processor(this.node))}postLoad(e){let t=l;e&&(T(e.constructor,Object)||!e.constructor&&T(typeof e,"object"))&&(t=e),this.closures&&this.resolveClosures(B.resolveScope(t),this.closures.postLoad||this.closures)}removeChildren(){if((this.children||[]).length&&(i(this.children,e=>e&&e.destructor()),this.children.length=0),this.node)this.node.innerHTML="";else if(this.upperBoundary){let e=this.upperBoundary.nextSibling;for(;e&&!T(e,this.landmark);){const t=e.nextSibling;e.remove(),e=t}}}resolveChildren(){const e=this.profile.children;!this.children&&(e||T((this.childrenController||{}).name,"html"))&&(this.children=[]),this.childrenController?this.childrenController.trigger():i(e,(e,t)=>new o(e,(this.closures.children||[])[t],this,t))}resolveClosures(e,t){this.closures=t(e),this.scopes=[...this.scopes,e]}resolveControllers(){const{controllers:e=[],eventHandlers:t=[]}=this.closures.directives||{};this.controllers=e.map(e=>new H(this,e).trigger()),this.eventHandlers=t.map(e=>this.resolveEventHandler(e))}resolveEventHandler({event:e,decorators:t={},processor:s,name:i,options:o=!!i}){const n=t.target||this.node;U([`The target of event "${e}" defined on element "%o" is invalid`,this.node||this.profile.node],n);const l=[e,i?e=>this.update(e,i,s,t):e=>r(e,s,t),o];return n.addEventListener(...l),{target:n,parameters:l}}resolveLandmark(){if(this.landmark)return;const{index:e,parent:t,parentNode:s,profile:r}=this;let i=null;i=T(e,0)?t.upperBoundary.nextSibling:s.contains(r.landmark||null)?r.landmark:t&&(t.node?null:t.landmark),this.landmark=s.insertBefore(document.createTextNode(""),i),(r.each||r.virtual)&&(this.upperBoundary=s.insertBefore(document.createTextNode(""),this.landmark))}resolveNode(e,t=null){this.resolveLandmark(),e?(this.node=e,e[d]=this,t&&t(),e.isConnected||this.parentNode.insertBefore(e,this.landmark),e.removeAttribute&&e.removeAttribute("dg-cloak")):t&&t()}update(t,s,r,i){const o={...m};g(),r(e[s](this.node,i,t)),g(o)}})=>g()&&o)(),q=((t={$:"controller","+":"event"},s=n("checked","file","selected","value"),a=n("loaded","sentry","unloading","unloaded"),c=n("STYLE","SCRIPT"),h=(e=>`{ ${e} }`),u=(e=>e.trim().replace(/-[a-z]/g,e=>e[1].toUpperCase()).replace(/-[A-Z]/g,e=>`-${e[1].toLowerCase()}`)),p=((e,t)=>{const[s,r=!0]=e.split(":").map(e=>decodeURIComponent(u(e)));return t[s]=L(r),`${s}: ${N(t[s])&&!T(s,"target")?`\`${r}\``:r}`}),m=((e,s,r="")=>{e.removeAttribute(s),S(e,`${t[s[0]]||"meta"}-${decodeURIComponent(s.substr(1)).trim().replace(/[^\w]/g,"-")}`,r)}),f=((e,t=l,s="()")=>`{ processor: ${s} => { 'use strict';\r\nreturn ${e.trim()}; }, ${Object.entries(t).map(([e,t])=>`${e}: ${t}`).join(", ")} }`),g=class{constructor(t,s=null,o=null,n=null,l=!1,a=null){!n&&!o&&(this.root=!0),this.node=t,l&&(this.unique=l);const h=t.nodeType;if(this.promises=[],T(h,Node.TEXT_NODE)){const e=t.textContent.trim();if(!e)return;e.includes("${")&&e.includes("}")?(this.text=!0,o&&(this.root=!0)&&o.push(this)&&(o=null),this.closures=f(`\`${e}\``,{name:x("text")}),this.resolveLandmark(t,"string template replaced")):this.raw=!0}else if(T(h,Node.ELEMENT_NODE)){const e="dg-cloak",{attributes:n,nodeName:l}=t,h="@raw",d=n[h];if(d||c[l])this.raw=!0,o&&t.removeAttribute(e),d&&m(t,h);else{this.directives={controllers:[],eventHandlers:[]};const c=new Set,h=u(l.toLowerCase()),d=!(s&&s.customTagSet&&s.customTagSet.has(h))&&(A(t,HTMLUnknownElement)||/[A-Z-]/g.test(h));if((d||T(t.tagName,"TEMPLATE"))&&(this.virtual=!0),i([...n],({name:e,value:r})=>this.resolveDirective(t,s,e,r,c)),this.virtual)this.resolveLandmark(t,"virtual node removed");else if(c.has("style")){const e=t.style,s=[...e];s.length&&(this.inlineStyle=t.getAttribute("style"),this.styles=r(),i(s,t=>{const s=e[t],r=e.getPropertyPriority(t);this.styles[t]=r?`${s} !${r}`:s}))}this.landmark||this.loading||!T(Object.keys(this.directives).length,2)||this.directives.controllers.length||this.directives.eventHandlers.length?o&&(this.root=!0)&&o.push(this)&&(o=null):(this.plain=!0,o&&t.hasAttribute(e)&&(i(t.children,t=>t.setAttribute(e,""))||t.removeAttribute(e))),d?(U(`It is illegal to use "$html" or "$text" directive on template module "${h}"`,!this.directives.child),this.promises.push(s.fetch(h,a).then(e=>this.resolveTemplate(e)))):this.directives.child||T(t.tagName,"HTML")||this.resolveChildren(t,s,o,a)}}else if(T(h,Node.DOCUMENT_FRAGMENT_NODE))this.resolveChildren(t,s,o,t[d]);else if(T(h,Node.COMMENT_NODE)){if(!e.commentNode)return this.resolveLandmark(t,"comment node removed");this.raw=!0}else U(`The node type "${h}" is not supported`);if(n&&n.children.push(this),this.promises.length){const e=Promise.all(this.promises).then(()=>(this.root&&this.resolveClosures(),"closures resolved"));n&&n.promises.push(e)}else this.root&&this.resolveClosures(),delete this.promises}resolveChildren(e,t,s,r=null){const o=this.virtual?e.content.childNodes:e.childNodes;return o.length&&(this.children=[],i(o,e=>new g(e,t,s,this,!!this.unique,r)),this.plain&&this.children.every(e=>e.raw)&&(this.raw=!0)&&Reflect.deleteProperty(this,"plain")),this}resolveClosures(e=null){if(!this.closures){let t="";if(!this.raw){const s=", ",r=this.plain?"":Object.entries(this.directives||{}).map(([e,t])=>`${e}: ${Array.isArray(t)?`[${t.join(s)}]`:t}`).join(s);if(t=`${r?`directives: ${h(r)}, `:""}${this.children?`children: [${this.children.map(e=>e.resolveClosures(this.innerModuleScope)).join(s)}]`:""}`,this.loading){const e=t?v(h(t)):"";t=`loading: ${this.loading}, ${e&&`postLoad: ${e}`}`}this.exist&&(t=`exist: ${this.exist}, ${t}`),this.each&&(t=`each: ${this.each}, ${t?`slice: ${v(h(t))}`:""}`),t?(t=h(t),e&&(t=v(t))&&(this.moduleScope=e)):(this.raw=!0)&&Reflect.deleteProperty(this,"plain"),this.root&&(this.closures=t)}return t}return this.closures}resolveDirective(e,i,o,n,l){const c=t[o[0]];if(!c)return;this.virtual||m(e,o,n);const d=r(),[u,...y]=o.substr(1).split("#"),g=r(),v=y.filter(e=>e).map(e=>p(e,g)).join(", ");if(v&&(d.decorators=h(v)),T(c,"event")){d.event=x(u);const{capture:e,once:t,passive:s}=g;(e||t||s)&&(d.options=`{ capture: ${e||!1}, once: ${t||!1}, passive: ${s||!1} }`),this.directives.eventHandlers.push(f(n,d,N(g.event)?g.event:"$event"))}else if(T(u,"loading"))this.loading=f(n,d);else if(a[u]){const e=T(u,"sentry"),t=e?"next":"node",s=e?"$nextRouter":"$node";this.directives[u]=f(n,d,N(g[t])?g[t]:s)}else{T(u,"watch")||(d.name=x(u));const t=f(n,d);if(T(u,"each"))U(['It is illegal to use "$each" directive with "id" attribute together on node "%o"',e],!e.hasAttribute("id")),this.each=t,this.resolveLandmark(e,'"$each" node replaced'),delete this.unique;else if(T(u,"exist"))this.exist=t,this.resolveLandmark(e,'"$exist" node replaced');else if(T(u,"html")||T(u,"text"))this.namespace=i,this.directives.child=t;else if(this.directives.controllers.push(t),T(u,"class"))e.classList.length&&(this.classNames=[...e.classList].map(e=>e.trim()));else if(s[u]){const{tagName:t,type:s}=e,r=T(u,"checked"),i=T(u,"value"),o=T(u,"selected"),l=T(s,"checkbox")||T(s,"radio"),a=T(s,"file");(T(t,"INPUT")&&(a&&T(u,"file")||l&&(r||o)||!l&&!a&&i)||T(t,"OPTION")&&r||T(t,"SELECT")&&o||T(t,"TEXTAREA")&&i)&&(d.event=x(g.input?"input":"change"),this.directives.eventHandlers.push(f(`(() => { try { Object.is(${n}, $$_dg_data) || (${n} = $$_dg_data); } catch (error) {} })()`,d,"$$_dg_data")))}else l.add(u)}}resolveLandmark(e,t){this.landmark||(this.landmark=document.createTextNode(""),this.promises.push(Promise.resolve().then(()=>e.replaceWith(this.landmark)||t)))}resolveTemplate(e){const t=e.module;let s=y.get(t);if(!s){s=r();const o=A(t,g),n=o?t:(t||{}).template;U(`"${e.path}" or "${e.path}.template" is not a valid template module`,A(n,g)),s.namespace=o?e.parent:e,s.children=n.children,i(s.children,e=>e.namespace&&(e.namespace=s.namespace)),y.set(t,s),o||y.set(n,s)}return Object.assign(this,s),this.namespace.resolve().then(e=>this.innerModuleScope=o(e.extract()[this.namespace.name])),`template "${e.path}" resolved`}updateNamespace(e){this.namespace&&(this.namespace=e),i(this.children,t=>t.updateNamespace(e))}})=>g)(),B=((e={bubble:"bubble",self:"self",mutation:"mutation"},t=!1,s=!1,o=new Set([Array,Object]),n={get:(e,s)=>{const r=m.controller,i=Reflect.get(e,s),o=Reflect.getPrototypeOf(e);if(t||!r||a.has(s)||o&&Reflect.has(o,s)||A(i,Function))return i;const n=e[d];if(o)if(n.has(m.topology)){const e=m.topology.fetch(s);A(e,v)&&e.subscribe()}else n.forEach(e=>e.fetch(s).subscribe());else n[s].subscribe();return i},set:(e,t,r)=>{if(s||a.has(t))return Reflect.set(e,t,r);const i=m.topology,o=e[d];return A(o,Set)&&o.has(i)&&i.unsubscribe(),T(Reflect.get(e,t),r)||(r=y(r,e[d],t),Reflect.set(e,t,r),g(o,t,r)),!0},deleteProperty:(e,t)=>{const s=Reflect.has(e,t);return!!Reflect.deleteProperty(e,t)&&(s&&g(e[d],t),!0)}},a=new Set([d,Symbol.asyncIterator,Symbol.hasInstance,Symbol.isConcatSpreadable,Symbol.iterator,Symbol.match,Symbol.matchAll,Symbol.replace,Symbol.search,Symbol.species,Symbol.split,Symbol.toPrimitive,Symbol.toStringTag,Symbol.unscopables]),c=((e,t)=>{m.sensitive?e.trigger(t):u.has(e)||(u.add(e),queueMicrotask(()=>e.trigger(t)))}),f=((e=null,t="")=>e?e.fetch(t):new v),y=((e,t=null,l="")=>{const a=A(t,Set)||Array.isArray(t)?[...t].map(e=>f(e,l)):[f(t,l)];if(!A(e)||A(e,HTMLElement))s&&i(a,t=>t[d].value=e);else if(e[d])i(a,t=>e[d].add(t));else{const l=e.constructor;if(o.has(l)){const o=new Proxy(t?new l:r(),n);if(t)o[d]=new Set(a),s&&i(a,e=>e[d].value=o);else{const e=a[0];o[d]=e,e[d].value=o}return i(E(e),t=>o[t]=y(e[t],a,t)),t||Object.seal(o),o}e[d]=new Set(a)}return e}),g=((t,s,r)=>{if(A(t,Set))return t.forEach(e=>g(e,s,r));s&&(t=t.fetch(s)),t.update(r,e.self)}),v=class{constructor(e=null,t=""){if(e){e[t]=this;const s=e[d].path;this[d]={parent:e,path:s?`${s}.${t}`:t}}else this[d]={path:t}}destructor(){i(Object.keys(this),e=>this[e].destructor());const e=this[d];delete e.parent,e.controllerSet&&(e.controllerSet.clear(),delete e.controllerSet),$(this)}dispatch(t=e.bubble){const{controllerSet:s,parent:r}=this[d];if(s){const r=T(t,e.bubble);s.forEach(e=>c(e,r))}!T(t,e.mutation)&&r&&(U('It\'s illegal to modify fields of "$router"',h||!T(p.$router[d],r)),r[d].parent&&r.dispatch())}fetch(e){return this[e]||new v(this,e)}subscribe(){m.topology=this;const e=m.controller,{topologySet:t,visitedTopologySet:s}=e;if(s.has(this))return;const r=this[d],{controllerSet:i,parent:o}=r;o&&o[d].parent&&o.unsubscribe(e),t.add(this),s.add(this),i?i.add(e):r.controllerSet=new Set([e])}unsubscribe(e=m.controller){e.topologySet.delete(this);const t=this[d].controllerSet;t&&t.delete(e)}update(t,s=e.mutation){const r=this[d],o=r.value;T(o,t)||((!Reflect.has(r,"oldValue")||m.sensitive)&&(r.oldValue=o),r.value=t,A(o)&&!A(o,HTMLElement)&&o[d]&&o[d].delete(this)&&i(E(o),e=>this[e]&&this[e].update((t||l)[e])),A(t)&&!A(t,HTMLElement)&&t[d]&&t[d].add(this)&&i(E(t),e=>f(this,e).update((t||l)[e])),this.dispatch(s))}})=>{v.resolveScope=(e=>{s=!0;const t=y(e);return s=!1,t});const b=JSON.stringify;return JSON.stringify=((...e)=>{t=!0;const s=b(...e);return t=!1,s}),v})(),W=((t="",l=null,a=[],u=null,m=null,g=!1,b=null,$=null,C=null,x=null,R=null,M={aliases:{},default:"",hashPrefix:"#",overrideRelativeLinks:!0,redirects:{},scenarios:{}},O=((e=n("A","AREA"))=>t=>{const s=t.target;if(!e[s.tagName]||!s.hasAttribute("href"))return;const r=s.getAttribute("href").trim(),i=M.hashPrefix;r&&![i,".","/"].some(e=>r.startsWith(e))&&!T(r,new URL(r,document.baseURI).href)&&(s.href=`${i}${r}`)})(),P=((r=((r=n("$modules","$router","$validator"),d=((e,t)=>{i(Object.keys(p).filter(e=>!r[e]),e=>Reflect.deleteProperty(p,e));const n=new Set,l=e.extract(n)[e.name];if(Object.assign(p,l),p.$modules=l,h=!0,u?i(E(p.$router),e=>p.$router[e]=t[e]):p.$router=t,h=!1,i(Object.keys(l),e=>o(p[e])),i(a,e=>n.has(e)||(e.disabled=!0)&&S(e,"active",!1)),a=[...n],i(a,e=>(e.disabled=!1)||S(e,"active",!0)),u){i(s,t=>t.updateNamespace(e));const t=(u.closures.directives||{}).loaded;t&&t.processor()}else u=new z(m,w(v(m.closures,2))(p,c))}))=>()=>{e.routerLog&&I(`router changed from "${p.$router.path||"[root]"}" to "${b.path}"`),y.clear();const r=Object.assign({},...x.map(e=>e.modules));i(Object.keys(r),e=>A(r[e],D)||(r[e]=C.find(t=>t.resolveModule(e)).modules[e]));const o=new D({content:r,customTags:l,type:D.resolvedType.namespace},t),n=o.resolve().then(()=>d(o,B.resolveScope(b)));if(window.$ModuleProfile=(e=>new D({content:e,type:"namespace"},"","__demo__",o)),window.$Router=H,u){const{unloading:e,unloaded:t}=u.closures.directives||{};e&&e.processor(),t&&t.processor()}else i($,e=>Reflect.construct(q,[e,o,s,null,!0])),F(['No node with valid directive was detected under root elements "%o"',$],s.length);return n})(),d=((t=((t,s,r)=>{const i=s.findIndex(e=>e);if(i<0)return;const o=t[i].owner;r.stop=!0,e.routerLog&&F(['The router redirect is prevented by "%o"',o.node||o.profile.node]),g=!0,location.hash=`${p.$router.hashPrefix}${p.$router.path}`}))=>e=>{const s=[...f];return Promise.all(s.map(e=>e.processor(b))).then(r=>t(s,r,e))})())=>(t=location.hash.replace(M.hashPrefix,""))=>{if(g)return void(g=!1);t.startsWith("/")||(t=`/${t}`);const{aliases:s,hashPrefix:o,redirects:n}=M,[l="",a=""]=t.split("?"),c=s[l]||n[l];if(c)return e.routerLog&&I(`router redirected from "${l}" to "${c}"`),t=a?`${c}?${a}`:c,s[l]||history.replaceState({path:t},t,`${o}${t}`),P(t);const h={},p=T(l,"/")?[""]:l.split("/");if(C=[],!R.match(C,h,p))return U(`The router "${l}" is invalid`,M.default),P(M.default);x=C.slice().reverse(),i(x,e=>e.initialize());const m={};a&&i([...new URLSearchParams(a)],([e,t])=>m[e]=L(t));const f=Object.assign({},...x.map(e=>e.variables),m,...x.map(e=>e.constants));b=Object.freeze({hash:t,hashPrefix:o,path:l,paths:p,query:a,queries:m,scenarios:h,schemes:f,identity:Symbol("identity")});const y={};k([u&&d(y),()=>r()],y)})(),_=((e={detail:!0},t=new CustomEvent("change",e),s=new CustomEvent("input",e))=>e=>T(e.target.tagName,"FORM")&&i(document.querySelectorAll("input, textarea"),e=>{e.dispatchEvent(s),e.dispatchEvent(t)}))(),H=class{constructor({children:e,path:t="",constants:s={},variables:r={},modules:o=null,tailable:n=!e},l=null){this.constants=s,this.variables=r,this.modules=o,this.tailable=n,this.scenarios=A(t)?Object.entries(t).map(([e,t])=>({scenario:e,regExp:new RegExp(t||"^$")})):[{scenario:t,regExp:new RegExp(`^${t}$`||"^$")}],l&&(this.parent=l,l.children.push(this)),e&&(U(['The router\'s children should be "array" instead of "%o"',e],Array.isArray(e)),this.children=[],i(e,e=>new H(e,this)))}initialize(){this.initialized||(this.initialized=!0,this.modules&&(this.modules=D.normalizeConfig(this.modules)))}match(e,t,s,r=s.length,i=0){const o=this.scenarios.length;if(r>=o&&this.scenarios.every(({scenario:e,regExp:r},o)=>{const n=s[i+o];if(r.test(n))return t[e]=n,!0})&&(T(r,i+=o)&&this.tailable||(this.children||[]).find(o=>o.match(e,t,s,r,i))))return e.push(this),!0}resolveModule(e,t){if(this.modules){const s=this.modules[e];return this.modules[e]=s&&(A(s,D)?s:new D(s,t,e)),this.modules[e]}}},W=((s={})=>{const{options:r={},rootSelectors:o=["title","body"],routing:n={}}=s;Object.assign(e,r),Object.assign(M,n),I(`Powered by "dagger V${Y}".`),U(['The "rootSelectors" should be "string array" instead of "%o"',o],Array.isArray(o)&&o.every(e=>N(e)));const{overrideRelativeLinks:a,scenarios:c}=M;a&&document.body.addEventListener("click",O,!0),document.body.addEventListener("reset",_),$=[...new Set(o.map(e=>[...j(document,e,!0)]).flat())];const h=document.querySelector("html");U(['It\'s illegal to set "%o" as root node',h],!$.includes(h)),i($,e=>{const t=$.find(t=>!e.isSameNode(t)&&e.contains(t));U(['The root element "%o" contains another root node "%o"',e,t],!t)}),m=new q(h),({base:t,customTags:l}=s),R=new H(c),window.addEventListener("hashchange",()=>P()),P()}),Y="1.0.0 - RC")=>{const J=((e=((e,t)=>{const s=e[t];U([`"${t}" is not a valid method name of prototype object "%o"`,e],A(s,Function));const r=function(...e){const t=s.bind(this)(...e);return this[d]&&this[d].forEach(e=>e.dispatch()),t};Reflect.defineProperty(r,"name",{configurable:!0,value:t}),Reflect.defineProperty(e,t,{get:()=>r})}))=>(t,s)=>{U(['The 1st argument of "$dagger.register" should be valid "object" instead of "%o"',t],A(t)),U(['The 2nd argument of "$dagger.register" should be "string array" instead of "%o"',s],Array.isArray(s)&&s.every(e=>N(e)));const r=t.prototype;i(s,t=>e(r,t))})(),V=["set","delete"],Z=["add","delete"];return J(Date,["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"])||J(Map,V)||J(Set,Z)||J(WeakMap,V)||J(WeakSet,Z),window.$dagger=Object.freeze(Object.assign(r(),{register:J,runtime:W,version:Y})),W})())=>a.querySelector('script[type="dagger/configs"]')?document.addEventListener("DOMContentLoaded",()=>k([b(a),({base:e,content:t})=>W(Object.assign({base:e},t))])):W)();